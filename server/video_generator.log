2025-04-29 21:53:03,048 - video_generator - WARNING - Music directory not found: server/bg_music. Creating it.
2025-04-29 21:55:25,566 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-29 21:55:25,691 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250429_215508.mp3, duration: 64.6s
2025-04-29 21:55:25,692 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-29 21:55:25,692 - video_generator - INFO - Image query: magical library books
2025-04-29 21:55:25,692 - video_generator - INFO - Video query: wizard books library
2025-04-29 21:55:25,692 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-29 21:55:29,643 - video_generator - INFO - Downloaded video to: media_assets\videos\wizard_books_library_1745949326.mp4
2025-04-29 21:55:29,787 - video_generator - INFO - Loaded video clip, duration: 32.12s
2025-04-29 21:55:29,813 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-29 21:55:29,814 - video_generator - INFO - Image query: wizard with wand
2025-04-29 21:55:29,814 - video_generator - INFO - Video query: wizard studying magic
2025-04-29 21:55:29,814 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-29 21:55:38,886 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.00s to give image at least 2.00s
2025-04-29 21:55:39,094 - video_generator - INFO - Generating scene 3 with duration 5.41s
2025-04-29 21:55:39,095 - video_generator - INFO - Image query: potions and ingredients
2025-04-29 21:55:39,095 - video_generator - INFO - Video query: wizard organizing ingredients
2025-04-29 21:55:39,095 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-29 21:55:43,991 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.41s to give image at least 2.00s
2025-04-29 21:55:44,146 - video_generator - INFO - Generating scene 4 with duration 5.33s
2025-04-29 21:55:44,147 - video_generator - INFO - Image query: magical creatures
2025-04-29 21:55:44,147 - video_generator - INFO - Video query: magical creature interactions
2025-04-29 21:55:44,147 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-29 21:55:50,267 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.33s to give image at least 2.00s
2025-04-29 21:55:50,550 - video_generator - INFO - Generating scene 5 with duration 5.54s
2025-04-29 21:55:50,550 - video_generator - INFO - Image query: magical symbols
2025-04-29 21:55:50,550 - video_generator - INFO - Video query: wizard drawing runes
2025-04-29 21:55:50,550 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-29 21:55:57,349 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-29 21:55:57,454 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-29 21:55:57,454 - video_generator - INFO - Image query: castle blueprint
2025-04-29 21:55:57,454 - video_generator - INFO - Video query: magical castle layout
2025-04-29 21:55:57,454 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-29 21:56:00,066 - video_generator - INFO - Downloaded video to: media_assets\videos\magical_castle_layout_1745949358.mp4
2025-04-29 21:56:00,206 - video_generator - INFO - Loaded video clip, duration: 15.88s
2025-04-29 21:56:00,222 - video_generator - INFO - Generating scene 7 with duration 5.70s
2025-04-29 21:56:00,222 - video_generator - INFO - Image query: wizard classroom setup
2025-04-29 21:56:00,223 - video_generator - INFO - Video query: wizard teaching students
2025-04-29 21:56:00,223 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-29 21:56:05,228 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.70s to give image at least 2.00s
2025-04-29 21:56:05,280 - video_generator - INFO - Generating scene 8 with duration 6.35s
2025-04-29 21:56:05,280 - video_generator - INFO - Image query: magic wand and book
2025-04-29 21:56:05,280 - video_generator - INFO - Video query: wizard with a wand
2025-04-29 21:56:05,280 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-29 21:56:10,963 - video_generator - INFO - Generating scene 9 with duration 5.00s
2025-04-29 21:56:10,963 - video_generator - INFO - Image query: spells being cast
2025-04-29 21:56:10,963 - video_generator - INFO - Video query: magic spell interactions
2025-04-29 21:56:10,963 - video_generator - INFO - Scene 9 is \u2264 5 seconds, using only video
2025-04-29 21:56:14,453 - video_generator - INFO - Downloaded video to: media_assets\videos\magic_spell_interactions_1745949372.mp4
2025-04-29 21:56:14,605 - video_generator - INFO - Loaded video clip, duration: 22.8s
2025-04-29 21:56:14,614 - video_generator - INFO - Generating scene 10 with duration 5.46s
2025-04-29 21:56:14,614 - video_generator - INFO - Image query: wizard writing in a book
2025-04-29 21:56:14,614 - video_generator - INFO - Video query: wizard working on a project
2025-04-29 21:56:14,614 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-29 21:56:18,426 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.46s to give image at least 2.00s
2025-04-29 21:56:18,500 - video_generator - INFO - Generating scene 11 with duration 5.78s
2025-04-29 21:56:18,500 - video_generator - INFO - Image query: potions brewing
2025-04-29 21:56:18,500 - video_generator - INFO - Video query: magical potion brewing
2025-04-29 21:56:18,500 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-29 21:56:24,189 - video_generator - INFO - Scene 11: Adjusted video time from 4.0s to 3.78s to give image at least 2.00s
2025-04-29 21:56:24,481 - video_generator - INFO - Generating scene 12 with duration 5.00s
2025-04-29 21:56:24,481 - video_generator - INFO - Image query: happy wizard farewell
2025-04-29 21:56:24,481 - video_generator - INFO - Video query: wizard waving goodbye
2025-04-29 21:56:24,483 - video_generator - INFO - Scene 12 is \u2264 5 seconds, using only video
2025-04-29 21:56:26,181 - video_generator - INFO - Downloaded video to: media_assets\videos\wizard_waving_goodbye_1745949385.mp4
2025-04-29 21:56:26,316 - video_generator - INFO - Loaded video clip, duration: 9.64s
2025-04-29 21:56:26,950 - video_generator - INFO - Total clip durations: 64.57s, Audio duration: 64.60s
2025-04-29 21:56:27,393 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-29 22:00:03,830 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-29 22:00:04,035 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250429_215944.mp3, duration: 64.24s
2025-04-29 22:00:04,035 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-29 22:00:04,035 - video_generator - INFO - Image query: students studying, bookshelves, potion ingredients
2025-04-29 22:00:04,035 - video_generator - INFO - Video query: wizarding library, books, magic scrolls
2025-04-29 22:00:04,035 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-29 22:00:06,072 - video_generator - INFO - Downloaded video to: media_assets\videos\wizarding_library__books__magic_scrolls_1745949604.mp4
2025-04-29 22:00:06,360 - video_generator - INFO - Loaded video clip, duration: 19.29s
2025-04-29 22:00:06,375 - video_generator - INFO - Generating scene 2 with duration 6.17s
2025-04-29 22:00:06,376 - video_generator - INFO - Image query: sorting hats, magical items, classroom tables
2025-04-29 22:00:06,376 - video_generator - INFO - Video query: sorting hats, magical objects, classrooms
2025-04-29 22:00:06,376 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-29 22:00:13,098 - video_generator - INFO - Generating scene 3 with duration 5.00s
2025-04-29 22:00:13,098 - video_generator - INFO - Image query: cauldron brewing, potion book, ingredients on table
2025-04-29 22:00:13,098 - video_generator - INFO - Video query: potion ingredients, cauldron, spell book
2025-04-29 22:00:13,098 - video_generator - INFO - Scene 3 is \u2264 5 seconds, using only video
2025-04-29 22:00:15,973 - video_generator - INFO - Downloaded video to: media_assets\videos\potion_ingredients__cauldron__spell_book_1745949614.mp4
2025-04-29 22:00:16,286 - video_generator - INFO - Loaded video clip, duration: 8.68s
2025-04-29 22:00:16,297 - video_generator - INFO - Generating scene 4 with duration 5.10s
2025-04-29 22:00:16,297 - video_generator - INFO - Image query: quills and parchment, wizard with wand, writing spells
2025-04-29 22:00:16,297 - video_generator - INFO - Video query: parchment, quills, wizard with wand
2025-04-29 22:00:16,298 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-29 22:00:20,253 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.10s to give image at least 2.00s
2025-04-29 22:00:20,353 - video_generator - INFO - Generating scene 5 with duration 5.70s
2025-04-29 22:00:20,353 - video_generator - INFO - Image query: data structure, sorting objects, magical chart
2025-04-29 22:00:20,354 - video_generator - INFO - Video query: magic spell, sorting, data structure
2025-04-29 22:00:20,354 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-29 22:00:25,935 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.70s to give image at least 2.00s
2025-04-29 22:00:26,110 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-29 22:00:26,110 - video_generator - INFO - Image query: great hall feast, students together, shared meals
2025-04-29 22:00:26,110 - video_generator - INFO - Video query: great hall, sharing food, friendships
2025-04-29 22:00:26,110 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-29 22:00:31,087 - video_generator - INFO - Downloaded video to: media_assets\videos\great_hall__sharing_food__friendships_1745949627.mp4
2025-04-29 22:00:31,422 - video_generator - INFO - Loaded video clip, duration: 14.02s
2025-04-29 22:00:31,425 - video_generator - INFO - Generating scene 7 with duration 5.65s
2025-04-29 22:00:31,425 - video_generator - INFO - Image query: potion workshop, mixing bowls, wizard potions
2025-04-29 22:00:31,425 - video_generator - INFO - Video query: mysterious potion, mixing ingredients
2025-04-29 22:00:31,425 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-29 22:00:36,398 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.65s to give image at least 2.00s
2025-04-29 22:00:36,460 - video_generator - INFO - Generating scene 8 with duration 5.28s
2025-04-29 22:00:36,461 - video_generator - INFO - Image query: friendly duel, wands activated, spellcasting
2025-04-29 22:00:36,461 - video_generator - INFO - Video query: wizarding competition, wands casting
2025-04-29 22:00:36,461 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-29 22:04:45,861 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-29 22:04:45,984 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250429_220430.mp3, duration: 65.83s
2025-04-29 22:04:45,984 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-29 22:04:45,984 - video_generator - INFO - Image query: open book, scrolls, magical books
2025-04-29 22:04:45,984 - video_generator - INFO - Video query: wizard with wand, library, books
2025-04-29 22:04:45,984 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-29 22:04:48,275 - video_generator - INFO - Downloaded video to: media_assets\videos\wizard_with_wand__library__books_1745949886.mp4
2025-04-29 22:04:48,417 - video_generator - INFO - Loaded video clip, duration: 32.12s
2025-04-29 22:04:48,447 - video_generator - INFO - Generating scene 2 with duration 5.46s
2025-04-29 22:04:48,447 - video_generator - INFO - Image query: family tree, branching structure, enchanted tree
2025-04-29 22:04:48,447 - video_generator - INFO - Video query: tree structure, magical forest, hierarchy
2025-04-29 22:04:48,447 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-29 22:04:55,193 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.46s to give image at least 2.00s
2025-04-29 22:04:55,257 - video_generator - INFO - Generating scene 3 with duration 5.36s
2025-04-29 22:04:55,257 - video_generator - INFO - Image query: network diagram, connected wizards, spell connections
2025-04-29 22:04:55,257 - video_generator - INFO - Video query: network of connections, wizards, magical community
2025-04-29 22:04:55,257 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-29 22:05:01,381 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.36s to give image at least 2.00s
2025-04-29 22:05:01,444 - video_generator - INFO - Generating scene 4 with duration 6.35s
2025-04-29 22:05:01,444 - video_generator - INFO - Image query: cauldron, organized ingredients, potion making
2025-04-29 22:05:01,444 - video_generator - INFO - Video query: potion ingredients organized, potion master
2025-04-29 22:05:01,444 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-29 22:05:08,406 - video_generator - INFO - Generating scene 5 with duration 6.06s
2025-04-29 22:05:08,407 - video_generator - INFO - Image query: fantasy creatures, diverse types, magical realm
2025-04-29 22:05:08,407 - video_generator - INFO - Video query: varied mystical creatures, different habitats
2025-04-29 22:05:08,407 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-29 22:05:12,922 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-29 22:05:12,922 - video_generator - INFO - Image query: magical hat, classifications, choices
2025-04-29 22:05:12,922 - video_generator - INFO - Video query: sorting hat, sorting options, decision making
2025-04-29 22:05:12,923 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-29 22:05:18,795 - video_generator - INFO - Scene 6: Adjusted video time from 4.0s to 3.00s to give image at least 2.00s
2025-04-29 22:05:18,994 - video_generator - INFO - Generating scene 7 with duration 5.41s
2025-04-29 22:05:18,994 - video_generator - INFO - Image query: students learning, classroom setting, knowledge
2025-04-29 22:05:18,995 - video_generator - INFO - Video query: young wizards studying, classroom, learning
2025-04-29 22:05:18,995 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-29 22:05:24,693 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.41s to give image at least 2.00s
2025-04-29 22:05:24,735 - video_generator - INFO - Generating scene 8 with duration 5.04s
2025-04-29 22:05:24,735 - video_generator - INFO - Image query: wizards working together, collaboration, teamwork
2025-04-29 22:05:24,735 - video_generator - INFO - Video query: students collaborating, teamwork, magic
2025-04-29 22:05:24,735 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-29 22:05:31,662 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.04s to give image at least 2.00s
2025-04-29 22:05:31,834 - video_generator - INFO - Generating scene 9 with duration 5.52s
2025-04-29 22:05:31,834 - video_generator - INFO - Image query: casting spell, links between spells, magic connection
2025-04-29 22:05:31,835 - video_generator - INFO - Video query: wand casting spells, spells linking, magic
2025-04-29 22:05:31,835 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-29 22:05:40,416 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.52s to give image at least 2.00s
2025-04-29 22:05:40,590 - video_generator - INFO - Generating scene 10 with duration 5.28s
2025-04-29 22:05:40,590 - video_generator - INFO - Image query: all sorts of magic, convergence, powerful spells
2025-04-29 22:05:40,591 - video_generator - INFO - Video query: magical elements converging, powerful magic
2025-04-29 22:05:40,591 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-29 22:05:47,687 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.28s to give image at least 2.00s
2025-04-29 22:05:47,797 - video_generator - INFO - Generating scene 11 with duration 6.17s
2025-04-29 22:05:47,797 - video_generator - INFO - Image query: exploring magical world, adventure, learning
2025-04-29 22:05:47,797 - video_generator - INFO - Video query: wizarding world exploring, adventure
2025-04-29 22:05:47,797 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-29 22:06:02,890 - video_generator - INFO - Generating scene 12 with duration 5.12s
2025-04-29 22:06:02,890 - video_generator - INFO - Image query: graduation ceremony, wizards celebrating, success
2025-04-29 22:06:02,890 - video_generator - INFO - Video query: spread of knowledge, graduation, success
2025-04-29 22:06:02,890 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-29 22:06:09,082 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.12s to give image at least 2.00s
2025-04-29 22:06:09,403 - video_generator - INFO - Total clip durations: 65.78s, Audio duration: 65.83s
2025-04-29 22:06:09,571 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-29 22:09:54,425 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-29 22:09:54,524 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250429_220935.mp3, duration: 67.21s
2025-04-29 22:09:54,524 - video_generator - INFO - Generating scene 1 with duration 5.88s
2025-04-29 22:09:54,524 - video_generator - INFO - Image query: Hogwarts classroom, wizard with wand, magical scrolls
2025-04-29 22:09:54,524 - video_generator - INFO - Video query: Hogwarts castle, wizard classroom, magical books
2025-04-29 22:09:54,524 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-29 22:10:00,629 - video_generator - INFO - Scene 1: Adjusted video time from 4.0s to 3.88s to give image at least 2.00s
2025-04-29 22:10:00,730 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-29 22:10:00,730 - video_generator - INFO - Image query: potion ingredients, spell book, organized shelves
2025-04-29 22:10:00,730 - video_generator - INFO - Video query: spells chart, potion ingredients, chart illustration
2025-04-29 22:10:00,730 - video_generator - INFO - Scene 2 is \u2264 5 seconds, using only video
2025-04-29 22:10:04,872 - video_generator - INFO - Downloaded video to: media_assets\videos\spells_chart__potion_ingredients__chart_illustrati_1745950202.mp4
2025-04-29 22:10:05,053 - video_generator - INFO - Loaded video clip, duration: 13.05s
2025-04-29 22:10:05,069 - video_generator - INFO - Generating scene 3 with duration 6.01s
2025-04-29 22:10:05,069 - video_generator - INFO - Image query: wizard writing, enchanted quill, open parchment
2025-04-29 22:10:05,070 - video_generator - INFO - Video query: wizard planning, parchment and quill, Hogwarts library
2025-04-29 22:10:05,070 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-29 22:10:11,115 - video_generator - INFO - Generating scene 4 with duration 5.00s
2025-04-29 22:10:11,115 - video_generator - INFO - Image query: data tables, enchanted scrolls, organized diagrams
2025-04-29 22:10:11,115 - video_generator - INFO - Video query: tables of data, scrolls with texts, organization
2025-04-29 22:10:11,115 - video_generator - INFO - Scene 4 is \u2264 5 seconds, using only video
2025-04-29 22:10:13,793 - video_generator - INFO - Downloaded video to: media_assets\videos\tables_of_data__scrolls_with_texts__organization_1745950212.mp4
2025-04-29 22:10:14,208 - video_generator - INFO - Loaded video clip, duration: 11.07s
2025-04-29 22:10:14,211 - video_generator - INFO - Generating scene 5 with duration 5.88s
2025-04-29 22:10:14,211 - video_generator - INFO - Image query: wizards talking, flowchart, linking spells
2025-04-29 22:10:14,211 - video_generator - INFO - Video query: data relationships, connections between wizards, spell casting
2025-04-29 22:10:14,211 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-29 22:10:21,801 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.88s to give image at least 2.00s
2025-04-29 22:10:21,956 - video_generator - INFO - Generating scene 6 with duration 5.46s
2025-04-29 22:10:21,956 - video_generator - INFO - Image query: goblet of fire, wizard competition, magical challenges
2025-04-29 22:10:21,956 - video_generator - INFO - Video query: goblet of fire, tournament, magical tests
2025-04-29 22:10:21,956 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-29 22:10:27,796 - video_generator - INFO - Scene 6: Adjusted video time from 4.0s to 3.46s to give image at least 2.00s
2025-04-29 22:10:27,951 - video_generator - INFO - Generating scene 7 with duration 5.70s
2025-04-29 22:10:27,951 - video_generator - INFO - Image query: sorting hat, students in robes, house banners
2025-04-29 22:10:27,951 - video_generator - INFO - Video query: sorting hat, houses in Hogwarts, decision making
2025-04-29 22:10:27,952 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-29 22:10:32,853 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.70s to give image at least 2.00s
2025-04-29 22:10:32,960 - video_generator - INFO - Generating scene 8 with duration 5.83s
2025-04-29 22:10:32,960 - video_generator - INFO - Image query: wand pointing, database image, glowing symbols
2025-04-29 22:10:32,960 - video_generator - INFO - Video query: magic wand pointing, database structure, magical symbols
2025-04-29 22:10:32,961 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-29 22:10:38,446 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.83s to give image at least 2.00s
2025-04-29 22:10:38,502 - video_generator - INFO - Generating scene 9 with duration 5.00s
2025-04-29 22:10:38,502 - video_generator - INFO - Image query: completed potion, wizard celebration, magical cast
2025-04-29 22:10:38,502 - video_generator - INFO - Video query: completed potion, successful spell, celebration
2025-04-29 22:10:38,502 - video_generator - INFO - Scene 9 is \u2264 5 seconds, using only video
2025-04-29 22:10:41,917 - video_generator - INFO - Downloaded video to: media_assets\videos\completed_potion__successful_spell__celebration_1745950239.mp4
2025-04-29 22:10:42,049 - video_generator - INFO - Loaded video clip, duration: 5.76s
2025-04-29 22:10:42,057 - video_generator - INFO - Generating scene 10 with duration 6.01s
2025-04-29 22:10:42,059 - video_generator - INFO - Image query: students celebrating, wizard graduation, diplomas
2025-04-29 22:10:42,059 - video_generator - INFO - Video query: Hogwarts graduation, happy wizards, celebration
2025-04-29 22:10:42,059 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-29 22:10:47,216 - video_generator - INFO - Generating scene 11 with duration 5.70s
2025-04-29 22:10:47,216 - video_generator - INFO - Image query: team studying, wizards in a library, collaboration
2025-04-29 22:10:47,216 - video_generator - INFO - Video query: library shelves, teamwork, studying
2025-04-29 22:10:47,216 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-29 22:10:51,805 - video_generator - INFO - Scene 11: Adjusted video time from 4.0s to 3.70s to give image at least 2.00s
2025-04-29 22:10:51,886 - video_generator - INFO - Generating scene 12 with duration 5.70s
2025-04-29 22:10:51,886 - video_generator - INFO - Image query: wizard casting spell, open spell book, magical light
2025-04-29 22:10:51,887 - video_generator - INFO - Video query: wizard waving wand, magic book, glowing light
2025-04-29 22:10:51,887 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-29 22:10:58,726 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.70s to give image at least 2.00s
2025-04-29 22:10:59,321 - video_generator - INFO - Total clip durations: 67.17s, Audio duration: 67.21s
2025-04-29 22:10:59,652 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-29 22:14:37,097 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-29 22:14:37,262 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250429_221418.mp3, duration: 62.85s
2025-04-29 22:14:37,262 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-29 22:14:37,263 - video_generator - INFO - Image query: ancient books, castle library, enchanted scrolls
2025-04-29 22:14:37,263 - video_generator - INFO - Video query: magical library, wizard with book, floating candles
2025-04-29 22:14:37,263 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-29 22:14:39,878 - video_generator - INFO - Downloaded video to: media_assets\videos\magical_library__wizard_with_book__floating_candle_1745950478.mp4
2025-04-29 22:14:40,092 - video_generator - INFO - Loaded video clip, duration: 23.99s
2025-04-29 22:14:40,102 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-29 22:14:40,102 - video_generator - INFO - Image query: database symbols, magical runes, spell pages
2025-04-29 22:14:40,102 - video_generator - INFO - Video query: wizard in robe, spell book, magical symbols
2025-04-29 22:14:40,102 - video_generator - INFO - Scene 2 is \u2264 5 seconds, using only video
2025-04-29 22:14:42,005 - video_generator - INFO - Downloaded video to: media_assets\videos\wizard_in_robe__spell_book__magical_symbols_1745950481.mp4
2025-04-29 22:14:42,134 - video_generator - INFO - Loaded video clip, duration: 23.84s
2025-04-29 22:14:42,163 - video_generator - INFO - Generating scene 3 with duration 5.00s
2025-04-29 22:14:42,163 - video_generator - INFO - Image query: data table, enchanted charts, wand with sparkles
2025-04-29 22:14:42,163 - video_generator - INFO - Video query: wizard casting spell, crystal ball, glowing data
2025-04-29 22:14:42,163 - video_generator - INFO - Scene 3 is \u2264 5 seconds, using only video
2025-04-29 22:14:44,538 - video_generator - INFO - Downloaded video to: media_assets\videos\wizard_casting_spell__crystal_ball__glowing_data_1745950483.mp4
2025-04-29 22:14:45,081 - video_generator - INFO - Loaded video clip, duration: 7.94s
2025-04-29 22:14:45,084 - video_generator - INFO - Generating scene 4 with duration 6.01s
2025-04-29 22:14:45,084 - video_generator - INFO - Image query: query flow, organizing books, magical data sorting
2025-04-29 22:14:45,084 - video_generator - INFO - Video query: wizard organizing scrolls, library index, flowing parchment
2025-04-29 22:14:45,084 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-29 22:14:49,228 - video_generator - INFO - Generating scene 5 with duration 5.33s
2025-04-29 22:14:49,228 - video_generator - INFO - Image query: different databases, vibrant potions, unique ingredients
2025-04-29 22:14:49,229 - video_generator - INFO - Video query: diverse wizards, colorful potions, strange creatures
2025-04-29 22:14:49,229 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-29 22:14:54,755 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.33s to give image at least 2.00s
2025-04-29 22:14:54,883 - video_generator - INFO - Generating scene 6 with duration 5.93s
2025-04-29 22:14:54,884 - video_generator - INFO - Image query: flexible data, potion ingredients, non-traditional setups
2025-04-29 22:14:54,884 - video_generator - INFO - Video query: wizard mixing potions, creative lab, bubbling cauldrons
2025-04-29 22:14:54,884 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-29 22:15:00,838 - video_generator - INFO - Scene 6: Adjusted video time from 4.0s to 3.93s to give image at least 2.00s
2025-04-29 22:15:00,897 - video_generator - INFO - Generating scene 7 with duration 5.00s
2025-04-29 22:15:00,897 - video_generator - INFO - Image query: group study, collaborative learning, magical gadgets
2025-04-29 22:15:00,897 - video_generator - INFO - Video query: students studying spells, classroom, magical projector
2025-04-29 22:15:00,897 - video_generator - INFO - Scene 7 is \u2264 5 seconds, using only video
2025-04-29 22:15:04,222 - video_generator - INFO - Downloaded video to: media_assets\videos\students_studying_spells__classroom__magical_proje_1745950501.mp4
2025-04-29 22:15:04,360 - video_generator - INFO - Loaded video clip, duration: 22.32s
2025-04-29 22:15:04,369 - video_generator - INFO - Generating scene 8 with duration 5.00s
2025-04-29 22:15:04,369 - video_generator - INFO - Image query: contrast chart, wands and potions, spell comparison
2025-04-29 22:15:04,369 - video_generator - INFO - Video query: comparison scene, wands versus potions, magical duel
2025-04-29 22:15:04,369 - video_generator - INFO - Scene 8 is \u2264 5 seconds, using only video
2025-04-29 22:15:07,828 - video_generator - INFO - Downloaded video to: media_assets\videos\comparison_scene__wands_versus_potions__magical_du_1745950505.mp4
2025-04-29 22:15:07,963 - video_generator - INFO - Loaded video clip, duration: 13.28s
2025-04-29 22:15:07,976 - video_generator - INFO - Generating scene 9 with duration 5.00s
2025-04-29 22:15:07,977 - video_generator - INFO - Image query: successful spellcasting, magic success, wizard triumph
2025-04-29 22:15:07,977 - video_generator - INFO - Video query: wand motion, casting spells, spellbook page
2025-04-29 22:15:07,977 - video_generator - INFO - Scene 9 is \u2264 5 seconds, using only video
2025-04-29 22:15:10,688 - video_generator - INFO - Downloaded video to: media_assets\videos\wand_motion__casting_spells__spellbook_page_1745950508.mp4
2025-04-29 22:15:10,835 - video_generator - INFO - Loaded video clip, duration: 8.04s
2025-04-29 22:15:10,848 - video_generator - INFO - Generating scene 10 with duration 5.00s
2025-04-29 22:15:10,848 - video_generator - INFO - Image query: happy students, magical celebration, fireworks in night sky
2025-04-29 22:15:10,849 - video_generator - INFO - Video query: students celebrating, magical fireworks, castle backdrop
2025-04-29 22:15:10,849 - video_generator - INFO - Scene 10 is \u2264 5 seconds, using only video
2025-04-29 22:15:12,625 - video_generator - INFO - Downloaded video to: media_assets\videos\students_celebrating__magical_fireworks__castle_ba_1745950511.mp4
2025-04-29 22:15:12,735 - video_generator - INFO - Loaded video clip, duration: 23.39s
2025-04-29 22:15:12,741 - video_generator - INFO - Generating scene 11 with duration 5.00s
2025-04-29 22:15:12,741 - video_generator - INFO - Image query: students learning, focus and determination, magical study
2025-04-29 22:15:12,741 - video_generator - INFO - Video query: students casting spells, practicing magic, classroom
2025-04-29 22:15:12,741 - video_generator - INFO - Scene 11 is \u2264 5 seconds, using only video
2025-04-29 22:15:15,726 - video_generator - INFO - Downloaded video to: media_assets\videos\students_casting_spells__practicing_magic__classro_1745950513.mp4
2025-04-29 22:15:15,908 - video_generator - INFO - Loaded video clip, duration: 37.2s
2025-04-29 22:15:15,918 - video_generator - INFO - Generating scene 12 with duration 5.54s
2025-04-29 22:15:15,918 - video_generator - INFO - Image query: wizard diploma, graduation ceremony, proud students
2025-04-29 22:15:15,918 - video_generator - INFO - Video query: wizard graduating, diploma in hand, wizarding school
2025-04-29 22:15:15,918 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-29 22:15:20,742 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-29 22:15:20,962 - video_generator - INFO - Total clip durations: 62.82s, Audio duration: 62.85s
2025-04-29 22:15:21,109 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 08:48:33,826 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 08:48:34,041 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_084807.mp3, duration: 60.58s
2025-04-30 08:48:34,042 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 08:48:34,042 - video_generator - INFO - Image query: magical bookshelf books
2025-04-30 08:48:34,042 - video_generator - INFO - Video query: young wizard library
2025-04-30 08:48:34,042 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 08:48:36,962 - video_generator - INFO - Downloaded video to: media_assets\videos\young_wizard_library_1745988515.mp4
2025-04-30 08:48:37,188 - video_generator - INFO - Loaded video clip, duration: 23.72s
2025-04-30 08:48:37,221 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-30 08:48:37,222 - video_generator - INFO - Image query: enchanting spell book
2025-04-30 08:48:37,222 - video_generator - INFO - Video query: wizard casting spell
2025-04-30 08:48:37,222 - video_generator - INFO - Scene 2 is \u2264 5 seconds, using only video
2025-04-30 08:48:39,340 - video_generator - INFO - Downloaded video to: media_assets\videos\wizard_casting_spell_1745988518.mp4
2025-04-30 08:48:39,645 - video_generator - INFO - Loaded video clip, duration: 32.12s
2025-04-30 08:48:39,660 - video_generator - INFO - Generating scene 3 with duration 5.00s
2025-04-30 08:48:39,660 - video_generator - INFO - Image query: potions ingredients table
2025-04-30 08:48:39,660 - video_generator - INFO - Video query: magical potion making
2025-04-30 08:48:39,660 - video_generator - INFO - Scene 3 is \u2264 5 seconds, using only video
2025-04-30 08:48:41,526 - video_generator - INFO - Downloaded video to: media_assets\videos\magical_potion_making_1745988520.mp4
2025-04-30 08:48:41,791 - video_generator - INFO - Loaded video clip, duration: 14.56s
2025-04-30 08:48:41,820 - video_generator - INFO - Generating scene 4 with duration 5.00s
2025-04-30 08:48:41,820 - video_generator - INFO - Image query: enchanted artifact display
2025-04-30 08:48:41,820 - video_generator - INFO - Video query: magical artifact storage
2025-04-30 08:48:41,821 - video_generator - INFO - Scene 4 is \u2264 5 seconds, using only video
2025-04-30 08:48:45,696 - video_generator - INFO - Downloaded video to: media_assets\videos\magical_artifact_storage_1745988523.mp4
2025-04-30 08:48:46,344 - video_generator - INFO - Loaded video clip, duration: 33.8s
2025-04-30 08:48:46,358 - video_generator - INFO - Generating scene 5 with duration 5.00s
2025-04-30 08:48:46,358 - video_generator - INFO - Image query: magical scroll database
2025-04-30 08:48:46,358 - video_generator - INFO - Video query: wizard retrieving scroll
2025-04-30 08:48:46,359 - video_generator - INFO - Scene 5 is \u2264 5 seconds, using only video
2025-04-30 08:48:49,185 - video_generator - INFO - Downloaded video to: media_assets\videos\wizard_retrieving_scroll_1745988527.mp4
2025-04-30 08:48:49,453 - video_generator - INFO - Loaded video clip, duration: 14.38s
2025-04-30 08:48:49,469 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-30 08:48:49,469 - video_generator - INFO - Image query: enchanting study area
2025-04-30 08:48:49,469 - video_generator - INFO - Video query: witch studying
2025-04-30 08:48:49,469 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-30 08:48:51,485 - video_generator - INFO - Downloaded video to: media_assets\videos\witch_studying_1745988530.mp4
2025-04-30 08:48:51,753 - video_generator - INFO - Loaded video clip, duration: 32.96s
2025-04-30 08:48:51,775 - video_generator - INFO - Generating scene 7 with duration 5.00s
2025-04-30 08:48:51,775 - video_generator - INFO - Image query: fantastical creature keeper
2025-04-30 08:48:51,775 - video_generator - INFO - Video query: magical creature managing
2025-04-30 08:48:51,775 - video_generator - INFO - Scene 7 is \u2264 5 seconds, using only video
2025-04-30 08:48:54,914 - video_generator - INFO - Downloaded video to: media_assets\videos\magical_creature_managing_1745988532.mp4
2025-04-30 08:48:55,502 - video_generator - INFO - Loaded video clip, duration: 47.42s
2025-04-30 08:48:55,509 - video_generator - INFO - Generating scene 8 with duration 5.00s
2025-04-30 08:48:55,510 - video_generator - INFO - Image query: friends working together
2025-04-30 08:48:55,510 - video_generator - INFO - Video query: wizard group collaboration
2025-04-30 08:48:55,510 - video_generator - INFO - Scene 8 is \u2264 5 seconds, using only video
2025-04-30 08:48:57,024 - video_generator - INFO - Downloaded video to: media_assets\videos\wizard_group_collaboration_1745988536.mp4
2025-04-30 08:48:57,196 - video_generator - INFO - Loaded video clip, duration: 11.04s
2025-04-30 08:48:57,205 - video_generator - INFO - Generating scene 9 with duration 5.54s
2025-04-30 08:48:57,206 - video_generator - INFO - Image query: magical inventory chest
2025-04-30 08:48:57,206 - video_generator - INFO - Video query: gathering magical items
2025-04-30 08:48:57,206 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 08:49:03,633 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-30 08:49:03,942 - video_generator - INFO - Generating scene 10 with duration 5.00s
2025-04-30 08:49:03,942 - video_generator - INFO - Image query: magical data visualization
2025-04-30 08:49:03,942 - video_generator - INFO - Video query: magic over data
2025-04-30 08:49:03,942 - video_generator - INFO - Scene 10 is \u2264 5 seconds, using only video
2025-04-30 08:49:05,895 - video_generator - INFO - Downloaded video to: media_assets\videos\magic_over_data_1745988544.mp4
2025-04-30 08:49:06,201 - video_generator - INFO - Loaded video clip, duration: 19.99s
2025-04-30 08:49:06,210 - video_generator - INFO - Generating scene 11 with duration 5.00s
2025-04-30 08:49:06,210 - video_generator - INFO - Image query: looking towards the horizon
2025-04-30 08:49:06,210 - video_generator - INFO - Video query: future of magic
2025-04-30 08:49:06,210 - video_generator - INFO - Scene 11 is \u2264 5 seconds, using only video
2025-04-30 08:49:08,099 - video_generator - INFO - Downloaded video to: media_assets\videos\future_of_magic_1745988547.mp4
2025-04-30 08:49:08,316 - video_generator - INFO - Loaded video clip, duration: 14.1s
2025-04-30 08:49:08,335 - video_generator - INFO - Generating scene 12 with duration 5.00s
2025-04-30 08:49:08,335 - video_generator - INFO - Image query: wizard closing spell book
2025-04-30 08:49:08,335 - video_generator - INFO - Video query: closing book of spells
2025-04-30 08:49:08,336 - video_generator - INFO - Scene 12 is \u2264 5 seconds, using only video
2025-04-30 08:49:11,559 - video_generator - INFO - Downloaded video to: media_assets\videos\closing_book_of_spells_1745988549.mp4
2025-04-30 08:49:11,798 - video_generator - INFO - Loaded video clip, duration: 29.44s
2025-04-30 08:49:12,029 - video_generator - INFO - Total clip durations: 60.54s, Audio duration: 60.58s
2025-04-30 08:49:12,287 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 08:49:12,288 - video_generator - INFO - Writing video to temporary file: generated_videos\video_1745988513.mp4.temp
2025-04-30 08:49:16,130 - video_generator - ERROR - Error generating final video: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file generated_videos\video_1745988513.mp4.temp:

 b"[AVFormatContext @ 000002840d2728c0] Unable to choose an output format for 'generated_videos\\video_1745988513.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002840d2b2540] Error initializing the muxer for generated_videos\\video_1745988513.mp4.temp: Invalid argument\r\nError opening output file generated_videos\\video_1745988513.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 607, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file generated_videos\video_1745988513.mp4.temp:

 b"[AVFormatContext @ 000002840d2728c0] Unable to choose an output format for 'generated_videos\\video_1745988513.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002840d2b2540] Error initializing the muxer for generated_videos\\video_1745988513.mp4.temp: Invalid argument\r\nError opening output file generated_videos\\video_1745988513.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 08:54:54,670 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 08:54:54,928 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_085432.mp3, duration: 68.6s
2025-04-30 08:54:54,928 - video_generator - INFO - Generating scene 1 with duration 5.18s
2025-04-30 08:54:54,928 - video_generator - INFO - Image query: wizard reading, enchanted books, sorcerer's library
2025-04-30 08:54:54,929 - video_generator - INFO - Video query: magical library, wizard books, spellbook
2025-04-30 08:54:54,929 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 08:55:01,467 - video_generator - INFO - Scene 1: Adjusted video time from 4.0s to 3.18s to give image at least 2.00s
2025-04-30 08:55:01,732 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-30 08:55:01,732 - video_generator - INFO - Image query: wizard with wand, potion ingredients, magical lab
2025-04-30 08:55:01,732 - video_generator - INFO - Video query: wizard using spells, magical tools, potions lab
2025-04-30 08:55:01,732 - video_generator - INFO - Scene 2 is \u2264 5 seconds, using only video
2025-04-30 08:55:03,352 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\wizard_using_spells__magical_tools__potions_lab_1745988902.mp4
2025-04-30 08:55:03,663 - video_generator - INFO - Loaded video clip, duration: 10.11s
2025-04-30 08:55:03,676 - video_generator - INFO - Generating scene 3 with duration 6.19s
2025-04-30 08:55:03,676 - video_generator - INFO - Image query: cauldron bubbles, potion ingredients, wizard mix
2025-04-30 08:55:03,677 - video_generator - INFO - Video query: flow of potion, bubbling cauldron, aligned wands
2025-04-30 08:55:03,677 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 08:55:08,388 - video_generator - INFO - Generating scene 4 with duration 5.93s
2025-04-30 08:55:08,388 - video_generator - INFO - Image query: sorting hat, student list, enchanted classroom
2025-04-30 08:55:08,389 - video_generator - INFO - Video query: sorting hat, school roster, magical classroom
2025-04-30 08:55:08,389 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 08:55:15,079 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.93s to give image at least 2.00s
2025-04-30 08:55:15,265 - video_generator - INFO - Generating scene 5 with duration 6.48s
2025-04-30 08:55:15,265 - video_generator - INFO - Image query: owl letter delivery, wizard owl, magical mail
2025-04-30 08:55:15,265 - video_generator - INFO - Video query: owl delivering letters, sorting mail, magical delivery
2025-04-30 08:55:15,265 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 08:55:22,699 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-30 08:55:22,700 - video_generator - INFO - Image query: dragon treasure vault, magical lock, guarding treasure
2025-04-30 08:55:22,700 - video_generator - INFO - Video query: guarding treasure, magical vault, dragon guarding
2025-04-30 08:55:22,700 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-30 08:55:27,278 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\guarding_treasure__magical_vault__dragon_guarding_1745988923.mp4
2025-04-30 08:55:27,605 - video_generator - INFO - Loaded video clip, duration: 20.0s
2025-04-30 08:55:27,633 - video_generator - INFO - Generating scene 7 with duration 5.28s
2025-04-30 08:55:27,633 - video_generator - INFO - Image query: collaborative wizards, teamwork, magical assembly
2025-04-30 08:55:27,634 - video_generator - INFO - Video query: wizard collaborating, team working, enchanted group
2025-04-30 08:55:27,634 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 08:55:33,832 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.28s to give image at least 2.00s
2025-04-30 08:55:33,956 - video_generator - INFO - Generating scene 8 with duration 5.93s
2025-04-30 08:55:33,956 - video_generator - INFO - Image query: wizard casting spells, wand tips, spell effects
2025-04-30 08:55:33,956 - video_generator - INFO - Video query: wand creating spells, casting magic, magical performance
2025-04-30 08:55:33,956 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 08:55:39,672 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.93s to give image at least 2.00s
2025-04-30 08:55:39,926 - video_generator - INFO - Generating scene 9 with duration 6.48s
2025-04-30 08:55:39,926 - video_generator - INFO - Image query: iconic spell effects, transformations, wizardry
2025-04-30 08:55:39,926 - video_generator - INFO - Video query: magical transformations, various spells, wizard surprises
2025-04-30 08:55:39,928 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 08:55:48,502 - video_generator - INFO - Generating scene 10 with duration 5.83s
2025-04-30 08:55:48,502 - video_generator - INFO - Image query: wizard with notes, studying magic, spellbooks
2025-04-30 08:55:48,502 - video_generator - INFO - Video query: wizard academic inquiry, writing notes, magical parchment
2025-04-30 08:55:48,502 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 08:55:53,302 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.83s to give image at least 2.00s
2025-04-30 08:55:53,466 - video_generator - INFO - Generating scene 11 with duration 6.25s
2025-04-30 08:55:53,466 - video_generator - INFO - Image query: ancient wisdom, consultation, magical knowledge
2025-04-30 08:55:53,466 - video_generator - INFO - Video query: wisdom books, ancient tomes, wizard library
2025-04-30 08:55:53,466 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 08:55:59,928 - video_generator - INFO - Generating scene 12 with duration 5.00s
2025-04-30 08:55:59,928 - video_generator - INFO - Image query: celebration of wizards, teamwork, spell casting
2025-04-30 08:55:59,928 - video_generator - INFO - Video query: wizards celebrating, magical friends, united wands
2025-04-30 08:55:59,928 - video_generator - INFO - Scene 12 is \u2264 5 seconds, using only video
2025-04-30 08:56:04,092 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\wizards_celebrating__magical_friends__united_wands_1745988960.mp4
2025-04-30 08:56:04,427 - video_generator - INFO - Loaded video clip, duration: 36.0s
2025-04-30 08:56:05,175 - video_generator - INFO - Total clip durations: 68.56s, Audio duration: 68.60s
2025-04-30 08:56:05,310 - video_generator - INFO - Selected background music: A Window to the Past.mp3
2025-04-30 08:56:05,459 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 08:56:05,460 - video_generator - INFO - Falling back to voiceover only
2025-04-30 08:56:05,460 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745988894.mp4.temp
2025-04-30 08:56:05,461 - video_generator - INFO - Write permission test successful
2025-04-30 08:56:10,058 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745988894.mp4.temp:

 b"[AVFormatContext @ 00000202257238c0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745988894.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 00000202256e2ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745988894.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745988894.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 653, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745988894.mp4.temp:

 b"[AVFormatContext @ 00000202257238c0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745988894.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 00000202256e2ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745988894.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745988894.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 08:56:10,058 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 08:58:29,123 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745988894.mp4
2025-04-30 09:01:27,771 - video_generator - INFO - Serving video file: video_1745988894.mp4, size: 75107804 bytes
2025-04-30 09:01:27,824 - video_generator - INFO - Serving video file: video_1745988894.mp4, size: 75107804 bytes
2025-04-30 09:01:29,449 - video_generator - INFO - Serving video file: video_1745988894.mp4, size: 75107804 bytes
2025-04-30 09:07:08,429 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 09:07:08,734 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_090642.mp3, duration: 69.88s
2025-04-30 09:07:08,734 - video_generator - INFO - Generating scene 1 with duration 5.46s
2025-04-30 09:07:08,734 - video_generator - INFO - Image query: space control room
2025-04-30 09:07:08,735 - video_generator - INFO - Video query: starship control room
2025-04-30 09:07:08,735 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 09:07:14,517 - video_generator - INFO - Scene 1: Adjusted video time from 4.0s to 3.46s to give image at least 2.00s
2025-04-30 09:07:14,601 - video_generator - INFO - Generating scene 2 with duration 5.54s
2025-04-30 09:07:14,602 - video_generator - INFO - Image query: futuristic console
2025-04-30 09:07:14,602 - video_generator - INFO - Video query: starship database console
2025-04-30 09:07:14,602 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 09:07:19,392 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-30 09:07:19,561 - video_generator - INFO - Generating scene 3 with duration 5.75s
2025-04-30 09:07:19,562 - video_generator - INFO - Image query: server rack
2025-04-30 09:07:19,562 - video_generator - INFO - Video query: computer server room
2025-04-30 09:07:19,562 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 09:07:24,612 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.75s to give image at least 2.00s
2025-04-30 09:07:24,824 - video_generator - INFO - Generating scene 4 with duration 5.83s
2025-04-30 09:07:24,825 - video_generator - INFO - Image query: library with books
2025-04-30 09:07:24,825 - video_generator - INFO - Video query: jedi temple library
2025-04-30 09:07:24,825 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 09:07:30,455 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.83s to give image at least 2.00s
2025-04-30 09:07:30,673 - video_generator - INFO - Generating scene 5 with duration 5.00s
2025-04-30 09:07:30,673 - video_generator - INFO - Image query: data network diagram
2025-04-30 09:07:30,673 - video_generator - INFO - Video query: data organization concept
2025-04-30 09:07:30,674 - video_generator - INFO - Scene 5 is \u2264 5 seconds, using only video
2025-04-30 09:07:34,893 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\data_organization_concept_1745989651.mp4
2025-04-30 09:07:35,215 - video_generator - INFO - Loaded video clip, duration: 29.17s
2025-04-30 09:07:35,241 - video_generator - INFO - Generating scene 6 with duration 5.59s
2025-04-30 09:07:35,241 - video_generator - INFO - Image query: digital connections
2025-04-30 09:07:35,241 - video_generator - INFO - Video query: network connection
2025-04-30 09:07:35,242 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 09:07:40,166 - video_generator - INFO - Scene 6: Adjusted video time from 4.0s to 3.59s to give image at least 2.00s
2025-04-30 09:07:40,478 - video_generator - INFO - Generating scene 7 with duration 5.36s
2025-04-30 09:07:40,478 - video_generator - INFO - Image query: robot transferring information
2025-04-30 09:07:40,478 - video_generator - INFO - Video query: droid passing data
2025-04-30 09:07:40,478 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 09:07:46,772 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.36s to give image at least 2.00s
2025-04-30 09:07:47,064 - video_generator - INFO - Generating scene 8 with duration 6.35s
2025-04-30 09:07:47,064 - video_generator - INFO - Image query: visuals of space combat
2025-04-30 09:07:47,064 - video_generator - INFO - Video query: space battle simulation
2025-04-30 09:07:47,064 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 09:07:53,402 - video_generator - INFO - Generating scene 9 with duration 5.41s
2025-04-30 09:07:53,403 - video_generator - INFO - Image query: command center for fleet
2025-04-30 09:07:53,403 - video_generator - INFO - Video query: fleet management room
2025-04-30 09:07:53,403 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 09:08:00,072 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.41s to give image at least 2.00s
2025-04-30 09:08:00,313 - video_generator - INFO - Generating scene 10 with duration 5.83s
2025-04-30 09:08:00,313 - video_generator - INFO - Image query: backup storage
2025-04-30 09:08:00,313 - video_generator - INFO - Video query: data backup system
2025-04-30 09:08:00,313 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 09:08:07,388 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.83s to give image at least 2.00s
2025-04-30 09:08:07,469 - video_generator - INFO - Generating scene 11 with duration 7.42s
2025-04-30 09:08:07,469 - video_generator - INFO - Image query: graphs and charts
2025-04-30 09:08:07,469 - video_generator - INFO - Video query: data analytics in action
2025-04-30 09:08:07,469 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 09:08:12,775 - video_generator - INFO - Generating scene 12 with duration 6.30s
2025-04-30 09:08:12,776 - video_generator - INFO - Image query: map of stars
2025-04-30 09:08:12,776 - video_generator - INFO - Video query: galaxy map
2025-04-30 09:08:12,776 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 09:08:23,869 - video_generator - INFO - Total clip durations: 69.85s, Audio duration: 69.88s
2025-04-30 09:08:24,013 - video_generator - INFO - Selected background music: STAR WARS - The Force Theme - Emotional Orchestral Version by Eliott Tordo.mp3
2025-04-30 09:08:24,155 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 09:08:24,156 - video_generator - INFO - Falling back to voiceover only
2025-04-30 09:08:24,156 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745989628.mp4.temp
2025-04-30 09:08:24,157 - video_generator - INFO - Write permission test successful
2025-04-30 09:08:29,599 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745989628.mp4.temp:

 b"[AVFormatContext @ 0000017eff513dc0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989628.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000017eff4d2ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989628.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989628.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 653, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745989628.mp4.temp:

 b"[AVFormatContext @ 0000017eff513dc0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989628.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000017eff4d2ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989628.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989628.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 09:08:29,599 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 09:10:52,617 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745989628.mp4
2025-04-30 09:11:13,208 - video_generator - INFO - Serving video file: video_1745989628.mp4, size: 84141038 bytes
2025-04-30 09:11:32,258 - video_generator - INFO - Serving video file: video_1745989628.mp4, size: 84141038 bytes
2025-04-30 09:11:32,264 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 09:11:32,440 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_091113.mp3, duration: 69.36s
2025-04-30 09:11:32,440 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 09:11:32,440 - video_generator - INFO - Image query: starship, deep space, galaxy
2025-04-30 09:11:32,440 - video_generator - INFO - Video query: space battle, starship, galaxy
2025-04-30 09:11:32,440 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 09:11:34,947 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\space_battle__starship__galaxy_1745989893.mp4
2025-04-30 09:11:35,199 - video_generator - INFO - Loaded video clip, duration: 41.64s
2025-04-30 09:11:35,210 - video_generator - INFO - Generating scene 2 with duration 5.54s
2025-04-30 09:11:35,210 - video_generator - INFO - Image query: data screen, technology setup, charts
2025-04-30 09:11:35,211 - video_generator - INFO - Video query: data analysis, computer console, technology
2025-04-30 09:11:35,211 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 09:11:40,356 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-30 09:11:40,463 - video_generator - INFO - Generating scene 3 with duration 5.18s
2025-04-30 09:11:40,463 - video_generator - INFO - Image query: Jedi training, lightsaber, focus
2025-04-30 09:11:40,463 - video_generator - INFO - Video query: Jedi master, lightsaber, training
2025-04-30 09:11:40,463 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 09:11:49,649 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.18s to give image at least 2.00s
2025-04-30 09:11:49,815 - video_generator - INFO - Generating scene 4 with duration 5.10s
2025-04-30 09:11:49,815 - video_generator - INFO - Image query: database icon, information structure, code
2025-04-30 09:11:49,815 - video_generator - INFO - Video query: database, information, coding
2025-04-30 09:11:49,815 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 09:11:55,399 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.10s to give image at least 2.00s
2025-04-30 09:11:55,578 - video_generator - INFO - Generating scene 5 with duration 5.83s
2025-04-30 09:11:55,578 - video_generator - INFO - Image query: network diagram, connections, relationships
2025-04-30 09:11:55,578 - video_generator - INFO - Video query: relationship, connections, network
2025-04-30 09:11:55,578 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 09:12:00,598 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.83s to give image at least 2.00s
2025-04-30 09:12:00,815 - video_generator - INFO - Generating scene 6 with duration 7.08s
2025-04-30 09:12:00,815 - video_generator - INFO - Image query: teamwork, starfighter squad, alliance
2025-04-30 09:12:00,815 - video_generator - INFO - Video query: starfighter, teamwork, alliance
2025-04-30 09:12:00,815 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 09:12:06,073 - video_generator - INFO - Generating scene 7 with duration 6.20s
2025-04-30 09:12:06,073 - video_generator - INFO - Image query: galaxy map, navigation, planets
2025-04-30 09:12:06,073 - video_generator - INFO - Video query: planets, galaxy map, navigation
2025-04-30 09:12:06,073 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 09:12:10,870 - video_generator - INFO - Generating scene 8 with duration 6.06s
2025-04-30 09:12:10,871 - video_generator - INFO - Image query: wise Jedi, teaching, mentorship
2025-04-30 09:12:10,871 - video_generator - INFO - Video query: Yoda wisdom, knowledge, training
2025-04-30 09:12:10,871 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 09:12:18,942 - video_generator - INFO - Generating scene 9 with duration 5.54s
2025-04-30 09:12:18,943 - video_generator - INFO - Image query: security measures, shield, protection
2025-04-30 09:12:18,943 - video_generator - INFO - Video query: data integrity, security, protection
2025-04-30 09:12:18,943 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 09:12:24,427 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-30 09:12:24,639 - video_generator - INFO - Generating scene 10 with duration 6.30s
2025-04-30 09:12:24,639 - video_generator - INFO - Image query: celebration, success, victory
2025-04-30 09:12:24,639 - video_generator - INFO - Video query: success, achievement, celebration
2025-04-30 09:12:24,639 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 09:12:31,693 - video_generator - INFO - Generating scene 11 with duration 5.96s
2025-04-30 09:12:31,694 - video_generator - INFO - Image query: experiment, growth, learning process
2025-04-30 09:12:31,694 - video_generator - INFO - Video query: developing knowledge, experimentation, learning
2025-04-30 09:12:31,694 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 09:12:41,234 - video_generator - INFO - Scene 11: Adjusted video time from 4.0s to 3.96s to give image at least 2.00s
2025-04-30 09:12:41,467 - video_generator - INFO - Generating scene 12 with duration 5.54s
2025-04-30 09:12:41,467 - video_generator - INFO - Image query: future visions, growth, light
2025-04-30 09:12:41,467 - video_generator - INFO - Video query: wisdom, future, growth
2025-04-30 09:12:41,467 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 09:12:49,621 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-30 09:12:50,601 - video_generator - INFO - Total clip durations: 69.33s, Audio duration: 69.36s
2025-04-30 09:12:50,801 - video_generator - INFO - Selected background music: Star Wars Theme Canon Submain music.mp3
2025-04-30 09:12:51,038 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 09:12:51,038 - video_generator - INFO - Falling back to voiceover only
2025-04-30 09:12:51,038 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745989892.mp4.temp
2025-04-30 09:12:51,040 - video_generator - INFO - Write permission test successful
2025-04-30 09:12:56,318 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745989892.mp4.temp:

 b"[AVFormatContext @ 000001f70b9b0b40] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989892.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001f70b992ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989892.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989892.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 653, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745989892.mp4.temp:

 b"[AVFormatContext @ 000001f70b9b0b40] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989892.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001f70b992ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989892.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745989892.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 09:12:56,319 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 09:15:26,159 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745989892.mp4
2025-04-30 09:16:04,536 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 09:16:04,691 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_091544.mp3, duration: 60.63s
2025-04-30 09:16:04,691 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 09:16:04,691 - video_generator - INFO - Image query: star field, galaxy background, outer space
2025-04-30 09:16:04,691 - video_generator - INFO - Video query: space, star field, galaxy
2025-04-30 09:16:04,691 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 09:16:07,058 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\space__star_field__galaxy_1745990165.mp4
2025-04-30 09:16:07,569 - video_generator - INFO - Loaded video clip, duration: 31.2s
2025-04-30 09:16:07,585 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-30 09:16:07,586 - video_generator - INFO - Image query: server room, data center, technology
2025-04-30 09:16:07,586 - video_generator - INFO - Video query: database, server room, technology
2025-04-30 09:16:07,586 - video_generator - INFO - Scene 2 is \u2264 5 seconds, using only video
2025-04-30 09:16:17,659 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\database__server_room__technology_1745990168.mp4
2025-04-30 09:16:18,312 - video_generator - INFO - Loaded video clip, duration: 31.57s
2025-04-30 09:16:18,315 - video_generator - INFO - Generating scene 3 with duration 5.00s
2025-04-30 09:16:18,316 - video_generator - INFO - Image query: futuristic screen, command interface, dashboard
2025-04-30 09:16:18,316 - video_generator - INFO - Video query: digital interface, futuristic screen, technology
2025-04-30 09:16:18,316 - video_generator - INFO - Scene 3 is \u2264 5 seconds, using only video
2025-04-30 09:16:20,245 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\digital_interface__futuristic_screen__technology_1745990179.mp4
2025-04-30 09:16:20,492 - video_generator - INFO - Loaded video clip, duration: 20.03s
2025-04-30 09:16:20,509 - video_generator - INFO - Generating scene 4 with duration 5.00s
2025-04-30 09:16:20,509 - video_generator - INFO - Image query: robot assistant, droid, mechanical helper
2025-04-30 09:16:20,509 - video_generator - INFO - Video query: droid, robot assistant, technology
2025-04-30 09:16:20,510 - video_generator - INFO - Scene 4 is \u2264 5 seconds, using only video
2025-04-30 09:16:23,556 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\droid__robot_assistant__technology_1745990181.mp4
2025-04-30 09:16:23,891 - video_generator - INFO - Loaded video clip, duration: 7.68s
2025-04-30 09:16:23,909 - video_generator - INFO - Generating scene 5 with duration 5.00s
2025-04-30 09:16:23,910 - video_generator - INFO - Image query: computer code, programming lines, text on screen
2025-04-30 09:16:23,910 - video_generator - INFO - Video query: computer code, programming, syntax
2025-04-30 09:16:23,910 - video_generator - INFO - Scene 5 is \u2264 5 seconds, using only video
2025-04-30 09:16:25,656 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\computer_code__programming__syntax_1745990184.mp4
2025-04-30 09:16:26,065 - video_generator - INFO - Loaded video clip, duration: 10.22s
2025-04-30 09:16:26,070 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-30 09:16:26,070 - video_generator - INFO - Image query: data tables, structured data, spreadsheets
2025-04-30 09:16:26,070 - video_generator - INFO - Video query: data, tables, structure
2025-04-30 09:16:26,070 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-30 09:16:28,097 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\data__tables__structure_1745990186.mp4
2025-04-30 09:16:28,321 - video_generator - INFO - Loaded video clip, duration: 40.0s
2025-04-30 09:16:28,329 - video_generator - INFO - Generating scene 7 with duration 5.59s
2025-04-30 09:16:28,330 - video_generator - INFO - Image query: searching for data, map, coordinates
2025-04-30 09:16:28,330 - video_generator - INFO - Video query: search, location, map
2025-04-30 09:16:28,330 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 09:16:33,727 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.59s to give image at least 2.00s
2025-04-30 09:16:33,869 - video_generator - INFO - Generating scene 8 with duration 5.00s
2025-04-30 09:16:33,869 - video_generator - INFO - Image query: comet flying, speed, fast-moving object
2025-04-30 09:16:33,869 - video_generator - INFO - Video query: comet, fast movement, speed
2025-04-30 09:16:33,869 - video_generator - INFO - Scene 8 is \u2264 5 seconds, using only video
2025-04-30 09:16:35,867 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\comet__fast_movement__speed_1745990195.mp4
2025-04-30 09:16:36,053 - video_generator - INFO - Loaded video clip, duration: 2.88s
2025-04-30 09:16:36,086 - video_generator - INFO - Generating scene 9 with duration 5.00s
2025-04-30 09:16:36,086 - video_generator - INFO - Image query: data access, digital retrieval, information flow
2025-04-30 09:16:36,087 - video_generator - INFO - Video query: data retrieval, access, technology
2025-04-30 09:16:36,087 - video_generator - INFO - Scene 9 is \u2264 5 seconds, using only video
2025-04-30 09:16:39,798 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\data_retrieval__access__technology_1745990196.mp4
2025-04-30 09:16:40,219 - video_generator - INFO - Loaded video clip, duration: 50.37s
2025-04-30 09:16:40,225 - video_generator - INFO - Generating scene 10 with duration 5.00s
2025-04-30 09:16:40,225 - video_generator - INFO - Image query: database security, locked data, data protection
2025-04-30 09:16:40,225 - video_generator - INFO - Video query: database security, lock, protection
2025-04-30 09:16:40,225 - video_generator - INFO - Scene 10 is \u2264 5 seconds, using only video
2025-04-30 09:16:44,508 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\database_security__lock__protection_1745990201.mp4
2025-04-30 09:16:44,812 - video_generator - INFO - Loaded video clip, duration: 35.92s
2025-04-30 09:16:44,825 - video_generator - INFO - Generating scene 11 with duration 5.00s
2025-04-30 09:16:44,825 - video_generator - INFO - Image query: cloud computing, data sharing, technology
2025-04-30 09:16:44,825 - video_generator - INFO - Video query: cloud computing, sharing, technology
2025-04-30 09:16:44,826 - video_generator - INFO - Scene 11 is \u2264 5 seconds, using only video
2025-04-30 09:16:47,527 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\cloud_computing__sharing__technology_1745990206.mp4
2025-04-30 09:16:47,886 - video_generator - INFO - Loaded video clip, duration: 18.4s
2025-04-30 09:16:47,916 - video_generator - INFO - Generating scene 12 with duration 5.00s
2025-04-30 09:16:47,916 - video_generator - INFO - Image query: celebration, victory, happy moment
2025-04-30 09:16:47,916 - video_generator - INFO - Video query: success, victory, celebration
2025-04-30 09:16:47,916 - video_generator - INFO - Scene 12 is \u2264 5 seconds, using only video
2025-04-30 09:16:50,244 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\success__victory__celebration_1745990209.mp4
2025-04-30 09:16:50,607 - video_generator - INFO - Loaded video clip, duration: 15.97s
2025-04-30 09:16:50,804 - video_generator - INFO - Total clip durations: 60.59s, Audio duration: 60.63s
2025-04-30 09:16:50,924 - video_generator - INFO - Selected background music: Star Wars_ Order 66 Theme  Sad Jedi Temple March.mp3
2025-04-30 09:16:51,066 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 09:16:51,066 - video_generator - INFO - Falling back to voiceover only
2025-04-30 09:16:51,067 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745990164.mp4.temp
2025-04-30 09:16:51,068 - video_generator - INFO - Write permission test successful
2025-04-30 09:16:55,708 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745990164.mp4.temp:

 b"[AVFormatContext @ 0000014a38612280] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745990164.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000014a385d2c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745990164.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745990164.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 653, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745990164.mp4.temp:

 b"[AVFormatContext @ 0000014a38612280] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745990164.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000014a385d2c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745990164.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745990164.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 09:16:55,708 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 09:18:12,539 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745990164.mp4
2025-04-30 09:18:13,809 - video_generator - INFO - Serving video file: video_1745989628.mp4, size: 84141038 bytes
2025-04-30 09:33:04,566 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 09:33:04,752 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_093238.mp3, duration: 76.2s
2025-04-30 09:33:04,752 - video_generator - INFO - Generating scene 1 with duration 6.30s
2025-04-30 09:33:04,752 - video_generator - INFO - Image query: water vapor, moisture, warm air
2025-04-30 09:33:04,753 - video_generator - INFO - Video query: starship in space, desert planet, sun rays
2025-04-30 09:33:04,753 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 09:33:11,300 - video_generator - INFO - Generating scene 2 with duration 6.19s
2025-04-30 09:33:11,301 - video_generator - INFO - Image query: evaporating water, desert scene, clouds
2025-04-30 09:33:11,301 - video_generator - INFO - Video query: an alien landscape, moisture in the air, hot sun
2025-04-30 09:33:11,301 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 09:33:19,305 - video_generator - INFO - Generating scene 3 with duration 6.20s
2025-04-30 09:33:19,305 - video_generator - INFO - Image query: green plants, vapor release, sunlight
2025-04-30 09:33:19,305 - video_generator - INFO - Video query: plant on desert planet, moisture release, sunny day
2025-04-30 09:33:19,306 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 09:33:27,506 - video_generator - INFO - Generating scene 4 with duration 5.88s
2025-04-30 09:33:27,506 - video_generator - INFO - Image query: plant pores, stomata, moisture
2025-04-30 09:33:27,506 - video_generator - INFO - Video query: leaves close up, sunlight filtering, plant life
2025-04-30 09:33:27,506 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 09:33:36,419 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.88s to give image at least 2.00s
2025-04-30 09:33:36,646 - video_generator - INFO - Generating scene 5 with duration 7.27s
2025-04-30 09:33:36,646 - video_generator - INFO - Image query: clouds, moisture in air, water cycle
2025-04-30 09:33:36,646 - video_generator - INFO - Video query: space atmosphere, clouds forming, weather patterns
2025-04-30 09:33:36,647 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 09:33:43,675 - video_generator - INFO - Generating scene 6 with duration 6.59s
2025-04-30 09:33:43,675 - video_generator - INFO - Image query: rain drops, precipitation, dark clouds
2025-04-30 09:33:43,675 - video_generator - INFO - Video query: storm brewing, water droplets, wind
2025-04-30 09:33:43,675 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 09:33:56,166 - video_generator - INFO - Generating scene 7 with duration 6.67s
2025-04-30 09:33:56,166 - video_generator - INFO - Image query: greenery, thriving plants, moisture
2025-04-30 09:33:56,166 - video_generator - INFO - Video query: lush alien forest, water cycle, thriving ecosystem
2025-04-30 09:33:56,166 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 09:34:04,627 - video_generator - INFO - Generating scene 8 with duration 5.88s
2025-04-30 09:34:04,627 - video_generator - INFO - Image query: sunrise, water droplets, arid environment
2025-04-30 09:34:04,627 - video_generator - INFO - Video query: desert sunrise, warm air rising, moisture
2025-04-30 09:34:04,627 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 09:34:10,671 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.88s to give image at least 2.00s
2025-04-30 09:34:10,746 - video_generator - INFO - Generating scene 9 with duration 6.30s
2025-04-30 09:34:10,747 - video_generator - INFO - Image query: steam rising, water surface, heat waves
2025-04-30 09:34:10,747 - video_generator - INFO - Video query: visible steam, warm water source, heat moves up
2025-04-30 09:34:10,747 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 09:34:20,751 - video_generator - INFO - Generating scene 10 with duration 5.59s
2025-04-30 09:34:20,751 - video_generator - INFO - Image query: space clouds, moisture, cosmic phenomenon
2025-04-30 09:34:20,751 - video_generator - INFO - Video query: cosmic cloud formations, nebulae, water in space
2025-04-30 09:34:20,751 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 09:34:26,423 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.59s to give image at least 2.00s
2025-04-30 09:34:26,521 - video_generator - INFO - Generating scene 11 with duration 6.35s
2025-04-30 09:34:26,521 - video_generator - INFO - Image query: plant absorption, desert ecosystem, water balance
2025-04-30 09:34:26,521 - video_generator - INFO - Video query: desert air, moisture balance, plants thriving
2025-04-30 09:34:26,521 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 09:34:40,664 - video_generator - INFO - Generating scene 12 with duration 6.95s
2025-04-30 09:34:40,664 - video_generator - INFO - Image query: lifelong journey, varied ecosystems, water sources
2025-04-30 09:34:40,664 - video_generator - INFO - Video query: exploration across planets, water-rich environment, thriving galaxies
2025-04-30 09:34:40,664 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 09:34:47,677 - video_generator - INFO - Total clip durations: 76.16s, Audio duration: 76.20s
2025-04-30 09:34:47,771 - video_generator - INFO - Selected background music: Star Wars_ Order 66 Theme  Sad Jedi Temple March.mp3
2025-04-30 09:34:47,860 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 09:34:47,860 - video_generator - INFO - Falling back to voiceover only
2025-04-30 09:34:47,861 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745991184.mp4.temp
2025-04-30 09:34:47,861 - video_generator - INFO - Write permission test successful
2025-04-30 09:34:51,800 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745991184.mp4.temp:

 b"[AVFormatContext @ 000001e3a26cfd80] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745991184.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001e3a2652bc0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745991184.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745991184.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 653, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745991184.mp4.temp:

 b"[AVFormatContext @ 000001e3a26cfd80] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745991184.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001e3a2652bc0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745991184.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745991184.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 09:34:51,800 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 09:35:34,352 - py.warnings - WARNING - C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_reader.py:123: UserWarning: Warning: in file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\plant_on_desert_planet__moisture_release__sunny_da_1745991201.mp4, 6220800 bytes wanted but 0 bytes read,at frame 107/109, at time 3.57/3.63 sec. Using the last valid frame instead.
  warnings.warn("Warning: in file %s, "%(self.filename)+

2025-04-30 09:37:48,244 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745991184.mp4
2025-04-30 09:38:05,843 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:05,859 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:16,899 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:16,902 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:33,089 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:33,093 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:33,114 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:33,120 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:38,217 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:38,223 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:38,233 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:38,237 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:38,258 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:38,322 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:39,989 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:40,006 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:38:42,664 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:42:25,006 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:42:25,017 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-04-30 09:42:25,060 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:42:28,630 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:43:56,239 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:43:56,242 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-04-30 09:43:56,245 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:43:56,923 - video_generator - INFO - Serving video file: video_1745991184.mp4, size: 142029746 bytes
2025-04-30 09:49:53,185 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 09:49:53,352 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_094928.mp3, duration: 65.52s
2025-04-30 09:49:53,352 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 09:49:53,352 - video_generator - INFO - Image query: flowing river, sunlight, water droplets
2025-04-30 09:49:53,352 - video_generator - INFO - Video query: magic water, wizard teaching, Hogwarts garden
2025-04-30 09:49:53,352 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 09:49:55,612 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\magic_water__wizard_teaching__Hogwarts_garden_1745992194.mp4
2025-04-30 09:49:55,978 - video_generator - INFO - Loaded video clip, duration: 12.81s
2025-04-30 09:49:55,987 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-30 09:49:55,987 - video_generator - INFO - Image query: clouds forming, mist, sunny day
2025-04-30 09:49:55,987 - video_generator - INFO - Video query: liquid turning to vapor, magical transformation
2025-04-30 09:49:55,988 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 09:50:03,183 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.00s to give image at least 2.00s
2025-04-30 09:50:03,247 - video_generator - INFO - Generating scene 3 with duration 5.10s
2025-04-30 09:50:03,247 - video_generator - INFO - Image query: water evaporating, enchanted lake
2025-04-30 09:50:03,247 - video_generator - INFO - Video query: Harry casting a spell, water spell
2025-04-30 09:50:03,247 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 09:50:10,119 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.10s to give image at least 2.00s
2025-04-30 09:50:10,283 - video_generator - INFO - Generating scene 4 with duration 5.52s
2025-04-30 09:50:10,284 - video_generator - INFO - Image query: lush green leaves, vibrant plants
2025-04-30 09:50:10,284 - video_generator - INFO - Video query: magical plants, herbology class
2025-04-30 09:50:10,284 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 09:50:17,839 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.52s to give image at least 2.00s
2025-04-30 09:50:17,896 - video_generator - INFO - Generating scene 5 with duration 5.78s
2025-04-30 09:50:17,896 - video_generator - INFO - Image query: mist rising from plants, sunlight on leaves
2025-04-30 09:50:17,896 - video_generator - INFO - Video query: plants releasing vapor, magical greenhouse
2025-04-30 09:50:17,896 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 09:50:22,568 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.78s to give image at least 2.00s
2025-04-30 09:50:22,706 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-30 09:50:22,706 - video_generator - INFO - Image query: classroom with charts, wizard students
2025-04-30 09:50:22,706 - video_generator - INFO - Video query: Hogwarts biology lesson, Hermione teaching
2025-04-30 09:50:22,706 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-30 09:50:25,623 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\Hogwarts_biology_lesson__Hermione_teaching_1745992224.mp4
2025-04-30 09:50:25,955 - video_generator - INFO - Loaded video clip, duration: 10.52s
2025-04-30 09:50:25,967 - video_generator - INFO - Generating scene 7 with duration 5.70s
2025-04-30 09:50:25,967 - video_generator - INFO - Image query: clouds and rain, water cycle diagram
2025-04-30 09:50:25,967 - video_generator - INFO - Video query: water cycle, magic circle
2025-04-30 09:50:25,967 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 09:50:33,075 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.70s to give image at least 2.00s
2025-04-30 09:50:33,153 - video_generator - INFO - Generating scene 8 with duration 5.41s
2025-04-30 09:50:33,153 - video_generator - INFO - Image query: potion ingredients, dancing leaves
2025-04-30 09:50:33,154 - video_generator - INFO - Video query: plant magic, potion brewing
2025-04-30 09:50:33,154 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 09:50:40,315 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.41s to give image at least 2.00s
2025-04-30 09:50:40,366 - video_generator - INFO - Generating scene 9 with duration 5.78s
2025-04-30 09:50:40,366 - video_generator - INFO - Image query: forest with mist, enchanted ambiance
2025-04-30 09:50:40,366 - video_generator - INFO - Video query: nature magic, forest scene
2025-04-30 09:50:40,366 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 09:50:47,150 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.78s to give image at least 2.00s
2025-04-30 09:50:47,309 - video_generator - INFO - Generating scene 10 with duration 5.00s
2025-04-30 09:50:47,309 - video_generator - INFO - Image query: changing seasons, sunlight and rain
2025-04-30 09:50:47,309 - video_generator - INFO - Video query: Hogwarts during seasons, nature changes
2025-04-30 09:50:47,309 - video_generator - INFO - Scene 10 is \u2264 5 seconds, using only video
2025-04-30 09:50:48,976 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\Hogwarts_during_seasons__nature_changes_1745992248.mp4
2025-04-30 09:50:49,304 - video_generator - INFO - Loaded video clip, duration: 19.95s
2025-04-30 09:50:49,316 - video_generator - INFO - Generating scene 11 with duration 6.38s
2025-04-30 09:50:49,316 - video_generator - INFO - Image query: students paying attention, curious faces
2025-04-30 09:50:49,316 - video_generator - INFO - Video query: wizard explaining science, engaging classroom
2025-04-30 09:50:49,317 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 09:50:54,777 - video_generator - INFO - Generating scene 12 with duration 5.83s
2025-04-30 09:50:54,778 - video_generator - INFO - Image query: sunset over school, magical glow
2025-04-30 09:50:54,778 - video_generator - INFO - Video query: Hogwarts castle, sunset view
2025-04-30 09:50:54,778 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 09:51:02,492 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.83s to give image at least 2.00s
2025-04-30 09:51:03,385 - video_generator - INFO - Total clip durations: 65.48s, Audio duration: 65.52s
2025-04-30 09:51:03,526 - video_generator - INFO - Selected background music: Potter Keys  A Soft Piano Cover of Harry Potter Theme Music.mp3
2025-04-30 09:51:03,658 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 09:51:03,658 - video_generator - INFO - Falling back to voiceover only
2025-04-30 09:51:03,659 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745992193.mp4.temp
2025-04-30 09:51:03,660 - video_generator - INFO - Write permission test successful
2025-04-30 09:51:07,527 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745992193.mp4.temp:

 b"[AVFormatContext @ 000001fd88072ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992193.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001fd88090c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992193.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992193.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 654, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745992193.mp4.temp:

 b"[AVFormatContext @ 000001fd88072ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992193.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001fd88090c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992193.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992193.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 09:51:07,528 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 09:53:23,424 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745992193.mp4
2025-04-30 09:54:04,851 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 09:54:05,020 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_095340.mp3, duration: 60.81s
2025-04-30 09:54:05,021 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 09:54:05,021 - video_generator - INFO - Image query: clouds, water drops, spells
2025-04-30 09:54:05,021 - video_generator - INFO - Video query: wizard learning, water vapor, magical classroom
2025-04-30 09:54:05,021 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 09:54:07,527 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\wizard_learning__water_vapor__magical_classroom_1745992446.mp4
2025-04-30 09:54:07,866 - video_generator - INFO - Loaded video clip, duration: 25.96s
2025-04-30 09:54:07,886 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-30 09:54:07,886 - video_generator - INFO - Image query: steam, condensation, magical potion
2025-04-30 09:54:07,886 - video_generator - INFO - Video query: wizard with wand, weather spells, classroom
2025-04-30 09:54:07,886 - video_generator - INFO - Scene 2 is \u2264 5 seconds, using only video
2025-04-30 09:54:11,648 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\wizard_with_wand__weather_spells__classroom_1745992448.mp4
2025-04-30 09:54:11,993 - video_generator - INFO - Loaded video clip, duration: 37.2s
2025-04-30 09:54:12,004 - video_generator - INFO - Generating scene 3 with duration 5.00s
2025-04-30 09:54:12,004 - video_generator - INFO - Image query: water droplets, clouds, wizardry
2025-04-30 09:54:12,004 - video_generator - INFO - Video query: cloud formations, weather wizard, magical world
2025-04-30 09:54:12,005 - video_generator - INFO - Scene 3 is \u2264 5 seconds, using only video
2025-04-30 09:54:13,840 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\cloud_formations__weather_wizard__magical_world_1745992452.mp4
2025-04-30 09:54:14,141 - video_generator - INFO - Loaded video clip, duration: 15.62s
2025-04-30 09:54:14,147 - video_generator - INFO - Generating scene 4 with duration 5.00s
2025-04-30 09:54:14,147 - video_generator - INFO - Image query: rain falling, puddles, enchantments
2025-04-30 09:54:14,147 - video_generator - INFO - Video query: magic clouds, water cycle, wizard teacher
2025-04-30 09:54:14,147 - video_generator - INFO - Scene 4 is \u2264 5 seconds, using only video
2025-04-30 09:54:17,702 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\magic_clouds__water_cycle__wizard_teacher_1745992456.mp4
2025-04-30 09:54:18,002 - video_generator - INFO - Loaded video clip, duration: 16.12s
2025-04-30 09:54:18,014 - video_generator - INFO - Generating scene 5 with duration 5.23s
2025-04-30 09:54:18,015 - video_generator - INFO - Image query: rain, magical creatures, Hogwarts
2025-04-30 09:54:18,015 - video_generator - INFO - Video query: rain spell, magical weather effects, Hogwarts grounds
2025-04-30 09:54:18,015 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 09:54:23,657 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.23s to give image at least 2.00s
2025-04-30 09:54:23,820 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-30 09:54:23,820 - video_generator - INFO - Image query: snowflakes, winter, fantasy environment
2025-04-30 09:54:23,820 - video_generator - INFO - Video query: snow spell, wizard learning, magical library
2025-04-30 09:54:23,820 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-30 09:54:25,861 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\snow_spell__wizard_learning__magical_library_1745992464.mp4
2025-04-30 09:54:26,166 - video_generator - INFO - Loaded video clip, duration: 23.84s
2025-04-30 09:54:26,183 - video_generator - INFO - Generating scene 7 with duration 5.00s
2025-04-30 09:54:26,183 - video_generator - INFO - Image query: ice crystals, magical winter, enchanted scenery
2025-04-30 09:54:26,184 - video_generator - INFO - Video query: ice, magical studies, fantasy landscape
2025-04-30 09:54:26,184 - video_generator - INFO - Scene 7 is \u2264 5 seconds, using only video
2025-04-30 09:54:29,998 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\ice__magical_studies__fantasy_landscape_1745992467.mp4
2025-04-30 09:54:30,498 - video_generator - INFO - Loaded video clip, duration: 27.28s
2025-04-30 09:54:30,540 - video_generator - INFO - Generating scene 8 with duration 5.00s
2025-04-30 09:54:30,540 - video_generator - INFO - Image query: fog, magical fog, fantasy scene
2025-04-30 09:54:30,540 - video_generator - INFO - Video query: wizard observing weather, potion making, classroom
2025-04-30 09:54:30,541 - video_generator - INFO - Scene 8 is \u2264 5 seconds, using only video
2025-04-30 09:54:32,679 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\wizard_observing_weather__potion_making__classroom_1745992471.mp4
2025-04-30 09:54:32,935 - video_generator - INFO - Loaded video clip, duration: 10.11s
2025-04-30 09:54:32,982 - video_generator - INFO - Generating scene 9 with duration 5.00s
2025-04-30 09:54:32,983 - video_generator - INFO - Image query: dew on plants, nature, enchantment
2025-04-30 09:54:32,983 - video_generator - INFO - Video query: wizard experimenting, cloud spells, laboratory
2025-04-30 09:54:32,983 - video_generator - INFO - Scene 9 is \u2264 5 seconds, using only video
2025-04-30 09:54:37,397 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\wizard_experimenting__cloud_spells__laboratory_1745992473.mp4
2025-04-30 09:54:37,568 - video_generator - INFO - Loaded video clip, duration: 28.0s
2025-04-30 09:54:37,591 - video_generator - INFO - Generating scene 10 with duration 5.00s
2025-04-30 09:54:37,591 - video_generator - INFO - Image query: rainbows, sunlight, magical scenery
2025-04-30 09:54:37,591 - video_generator - INFO - Video query: effects of weather, castle on hill, magical scene
2025-04-30 09:54:37,591 - video_generator - INFO - Scene 10 is \u2264 5 seconds, using only video
2025-04-30 09:54:43,075 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\effects_of_weather__castle_on_hill__magical_scene_1745992478.mp4
2025-04-30 09:54:43,524 - video_generator - INFO - Loaded video clip, duration: 12.4s
2025-04-30 09:54:43,536 - video_generator - INFO - Generating scene 11 with duration 5.33s
2025-04-30 09:54:43,536 - video_generator - INFO - Image query: storms, lightning, fantasy world
2025-04-30 09:54:43,536 - video_generator - INFO - Video query: wizard explaining, children learning, enchanted outdoor
2025-04-30 09:54:43,536 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 09:54:49,887 - video_generator - INFO - Scene 11: Adjusted video time from 4.0s to 3.33s to give image at least 2.00s
2025-04-30 09:54:50,254 - video_generator - INFO - Generating scene 12 with duration 5.23s
2025-04-30 09:54:50,254 - video_generator - INFO - Image query: clear skies, rejuvenated land, magical nature
2025-04-30 09:54:50,255 - video_generator - INFO - Video query: life cycle of water, enchanted forest, magical creatures
2025-04-30 09:54:50,255 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 09:54:57,003 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.23s to give image at least 2.00s
2025-04-30 09:54:57,450 - video_generator - INFO - Total clip durations: 60.79s, Audio duration: 60.81s
2025-04-30 09:54:57,593 - video_generator - INFO - Selected background music: A Window to the Past.mp3
2025-04-30 09:54:57,709 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 09:54:57,710 - video_generator - INFO - Falling back to voiceover only
2025-04-30 09:54:57,712 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745992444.mp4.temp
2025-04-30 09:54:57,713 - video_generator - INFO - Write permission test successful
2025-04-30 09:55:01,349 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745992444.mp4.temp:

 b"[AVFormatContext @ 000001d4b7312200] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992444.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001d4b72d2c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992444.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992444.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 654, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745992444.mp4.temp:

 b"[AVFormatContext @ 000001d4b7312200] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992444.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001d4b72d2c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992444.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1745992444.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 09:55:01,349 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 09:56:22,629 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1745992444.mp4
2025-04-30 09:56:22,683 - asyncio - ERROR - Exception in callback _ProactorReadPipeTransport._loop_reading(<_OverlappedF...ed result=506>)
handle: <Handle _ProactorReadPipeTransport._loop_reading(<_OverlappedF...ed result=506>)>
Traceback (most recent call last):
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 324, in _loop_reading
    self._data_received(data, length)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 274, in _data_received
    self._protocol.data_received(data)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 182, in data_received
    self.handle_events()
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 191, in handle_events
    self.send_400_response(msg)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 301, in send_400_response
    output = self.conn.send(event)
             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\h11\_connection.py", line 538, in send
    data_list = self.send_with_data_passthrough(event)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\h11\_connection.py", line 563, in send_with_data_passthrough
    self._process_event(self.our_role, event)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\h11\_connection.py", line 284, in _process_event
    self._cstate.process_event(role, type(event), server_switch_event)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\h11\_state.py", line 291, in process_event
    self._fire_event_triggered_transitions(role, _event_type)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\h11\_state.py", line 309, in _fire_event_triggered_transitions
    raise LocalProtocolError(
h11._util.LocalProtocolError: can't handle event type Response when role=SERVER and state=CLOSED
2025-04-30 12:55:47,770 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 12:55:47,988 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_125531.mp3, duration: 68.39s
2025-04-30 12:55:47,988 - video_generator - INFO - Generating scene 1 with duration 5.83s
2025-04-30 12:55:47,988 - video_generator - INFO - Image query: Jedi wise master
2025-04-30 12:55:47,988 - video_generator - INFO - Video query: mean definition average
2025-04-30 12:55:47,988 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 12:55:55,331 - video_generator - INFO - Scene 1: Adjusted video time from 4.0s to 3.83s to give image at least 2.00s
2025-04-30 12:55:55,493 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-30 12:55:55,493 - video_generator - INFO - Image query: starship cockpit calculator
2025-04-30 12:55:55,493 - video_generator - INFO - Video query: calculating average Jedi
2025-04-30 12:55:55,493 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 12:56:00,987 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.00s to give image at least 2.00s
2025-04-30 12:56:01,087 - video_generator - INFO - Generating scene 3 with duration 6.20s
2025-04-30 12:56:01,088 - video_generator - INFO - Image query: Jedi training numbers
2025-04-30 12:56:01,088 - video_generator - INFO - Video query: adding numbers Star Wars
2025-04-30 12:56:01,088 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 12:56:10,454 - video_generator - INFO - Generating scene 4 with duration 5.23s
2025-04-30 12:56:10,454 - video_generator - INFO - Image query: calculator with numbers
2025-04-30 12:56:10,454 - video_generator - INFO - Video query: sum of numbers calculation
2025-04-30 12:56:10,454 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 12:56:18,249 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.23s to give image at least 2.00s
2025-04-30 12:56:18,366 - video_generator - INFO - Generating scene 5 with duration 7.21s
2025-04-30 12:56:18,366 - video_generator - INFO - Image query: counting stars in space
2025-04-30 12:56:18,367 - video_generator - INFO - Video query: dividing numbers Star Wars
2025-04-30 12:56:18,367 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 12:56:26,146 - video_generator - INFO - Generating scene 6 with duration 6.17s
2025-04-30 12:56:26,146 - video_generator - INFO - Image query: Jedi council meeting
2025-04-30 12:56:26,146 - video_generator - INFO - Video query: example calculation average
2025-04-30 12:56:26,146 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 12:56:32,757 - video_generator - INFO - Generating scene 7 with duration 5.41s
2025-04-30 12:56:32,757 - video_generator - INFO - Image query: knowledge and wisdom
2025-04-30 12:56:32,757 - video_generator - INFO - Video query: mean result Jedi
2025-04-30 12:56:32,757 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 12:56:38,712 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.41s to give image at least 2.00s
2025-04-30 12:56:38,798 - video_generator - INFO - Generating scene 8 with duration 5.00s
2025-04-30 12:56:38,798 - video_generator - INFO - Image query: galactic chart
2025-04-30 12:56:38,798 - video_generator - INFO - Video query: mean importance in galaxy
2025-04-30 12:56:38,798 - video_generator - INFO - Scene 8 is \u2264 5 seconds, using only video
2025-04-30 12:56:45,162 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\mean_importance_in_galaxy_1746003399.mp4
2025-04-30 12:56:45,319 - video_generator - INFO - Loaded video clip, duration: 26.48s
2025-04-30 12:56:45,330 - video_generator - INFO - Generating scene 9 with duration 5.78s
2025-04-30 12:56:45,330 - video_generator - INFO - Image query: Jedi using technology
2025-04-30 12:56:45,330 - video_generator - INFO - Video query: practical use mean Star Wars
2025-04-30 12:56:45,330 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 12:56:51,799 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.78s to give image at least 2.00s
2025-04-30 12:56:51,916 - video_generator - INFO - Generating scene 10 with duration 5.00s
2025-04-30 12:56:51,916 - video_generator - INFO - Image query: students learning together
2025-04-30 12:56:51,916 - video_generator - INFO - Video query: mean in everyday life
2025-04-30 12:56:51,916 - video_generator - INFO - Scene 10 is \u2264 5 seconds, using only video
2025-04-30 12:56:56,787 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\mean_in_everyday_life_1746003413.mp4
2025-04-30 12:56:57,229 - video_generator - INFO - Loaded video clip, duration: 16.13s
2025-04-30 12:56:57,233 - video_generator - INFO - Generating scene 11 with duration 6.20s
2025-04-30 12:56:57,234 - video_generator - INFO - Image query: Jedi sharing knowledge
2025-04-30 12:56:57,234 - video_generator - INFO - Video query: mean applied scenarios
2025-04-30 12:56:57,234 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 12:57:04,628 - video_generator - INFO - Generating scene 12 with duration 5.33s
2025-04-30 12:57:04,628 - video_generator - INFO - Image query: celebration of knowledge
2025-04-30 12:57:04,628 - video_generator - INFO - Video query: Jedi conclusion mean
2025-04-30 12:57:04,628 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 12:57:11,419 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.33s to give image at least 2.00s
2025-04-30 12:57:11,899 - video_generator - INFO - Total clip durations: 68.35s, Audio duration: 68.39s
2025-04-30 12:57:11,999 - video_generator - INFO - Selected background music: STAR WARS - The Force Theme - Emotional Orchestral Version by Eliott Tordo.mp3
2025-04-30 12:57:12,089 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 12:57:12,090 - video_generator - INFO - Falling back to voiceover only
2025-04-30 12:57:12,090 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746003347.mp4.temp
2025-04-30 12:57:12,091 - video_generator - INFO - Write permission test successful
2025-04-30 12:57:14,985 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746003347.mp4.temp:

 b"[AVFormatContext @ 0000024290e52ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003347.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000024290e93840] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003347.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003347.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 654, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746003347.mp4.temp:

 b"[AVFormatContext @ 0000024290e52ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003347.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000024290e93840] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003347.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003347.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 12:57:14,986 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 12:58:43,201 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746003347.mp4
2025-04-30 12:59:15,466 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 12:59:15,546 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_125900.mp3, duration: 75.42s
2025-04-30 12:59:15,546 - video_generator - INFO - Generating scene 1 with duration 5.75s
2025-04-30 12:59:15,546 - video_generator - INFO - Image query: Jedi Council chamber, balancing lightsabers
2025-04-30 12:59:15,546 - video_generator - INFO - Video query: data set, measuring power, Jedi Council
2025-04-30 12:59:15,546 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 12:59:22,505 - video_generator - INFO - Scene 1: Adjusted video time from 4.0s to 3.75s to give image at least 2.00s
2025-04-30 12:59:22,653 - video_generator - INFO - Generating scene 2 with duration 6.43s
2025-04-30 12:59:22,653 - video_generator - INFO - Image query: Jedi training, wise mentor, lightsaber duel
2025-04-30 12:59:22,653 - video_generator - INFO - Video query: data analysis, Jedi training, middle value
2025-04-30 12:59:22,653 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 12:59:29,441 - video_generator - INFO - Generating scene 3 with duration 7.42s
2025-04-30 12:59:29,441 - video_generator - INFO - Image query: Jedi sorting, powerful lightsabers
2025-04-30 12:59:29,441 - video_generator - INFO - Video query: group of Jedi, sorting powers, central tendency
2025-04-30 12:59:29,441 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 12:59:35,274 - video_generator - INFO - Generating scene 4 with duration 6.79s
2025-04-30 12:59:35,274 - video_generator - INFO - Image query: middle Jedi, symbolizing balance
2025-04-30 12:59:35,274 - video_generator - INFO - Video query: finding middle, Jedi rankings, balance
2025-04-30 12:59:35,274 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 12:59:41,969 - video_generator - INFO - Generating scene 5 with duration 5.54s
2025-04-30 12:59:41,969 - video_generator - INFO - Image query: Jedi with lightsabers, power levels
2025-04-30 12:59:41,969 - video_generator - INFO - Video query: odd number, Jedi power, ranking
2025-04-30 12:59:41,969 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 12:59:49,287 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-30 12:59:49,695 - video_generator - INFO - Generating scene 6 with duration 5.23s
2025-04-30 12:59:49,696 - video_generator - INFO - Image query: two Jedi in meditation, calculating
2025-04-30 12:59:49,696 - video_generator - INFO - Video query: even number, Jedi powers, calculating median
2025-04-30 12:59:49,696 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 12:59:55,776 - video_generator - INFO - Scene 6: Adjusted video time from 4.0s to 3.23s to give image at least 2.00s
2025-04-30 12:59:55,828 - video_generator - INFO - Generating scene 7 with duration 6.53s
2025-04-30 12:59:55,829 - video_generator - INFO - Image query: Jedi on a mission, data screens
2025-04-30 12:59:55,829 - video_generator - INFO - Video query: real examples, Jedi missions, data application
2025-04-30 12:59:55,829 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 13:00:01,864 - video_generator - INFO - Generating scene 8 with duration 5.88s
2025-04-30 13:00:01,864 - video_generator - INFO - Image query: Council discussing, data graphs
2025-04-30 13:00:01,864 - video_generator - INFO - Video query: Jedi Council analysis, data points, mission success
2025-04-30 13:00:01,864 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 13:00:10,105 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.88s to give image at least 2.00s
2025-04-30 13:00:10,236 - video_generator - INFO - Generating scene 9 with duration 6.43s
2025-04-30 13:00:10,237 - video_generator - INFO - Image query: combat training, statistics review
2025-04-30 13:00:10,237 - video_generator - INFO - Video query: combat simulations, median application, training
2025-04-30 13:00:10,237 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 13:00:16,919 - video_generator - INFO - Generating scene 10 with duration 5.75s
2025-04-30 13:00:16,919 - video_generator - INFO - Image query: Jedi training improvement, efficiency planning
2025-04-30 13:00:16,919 - video_generator - INFO - Video query: using median, Jedi efficiency, training improvement
2025-04-30 13:00:16,919 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 13:00:24,974 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.75s to give image at least 2.00s
2025-04-30 13:00:25,137 - video_generator - INFO - Generating scene 11 with duration 6.53s
2025-04-30 13:00:25,137 - video_generator - INFO - Image query: Jedi learning, collecting data
2025-04-30 13:00:25,137 - video_generator - INFO - Video query: persistence, gathering data, Jedi learning
2025-04-30 13:00:25,137 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 13:00:35,879 - video_generator - INFO - Generating scene 12 with duration 7.08s
2025-04-30 13:00:35,879 - video_generator - INFO - Image query: Jedi reaching enlightenment, lightsaber balance
2025-04-30 13:00:35,879 - video_generator - INFO - Video query: Jedi wisdom, mastering median, the force
2025-04-30 13:00:35,879 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 13:00:42,242 - video_generator - INFO - Total clip durations: 75.38s, Audio duration: 75.42s
2025-04-30 13:00:42,330 - video_generator - INFO - Selected background music: Star Wars Theme Canon Submain music.mp3
2025-04-30 13:00:42,423 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 13:00:42,423 - video_generator - INFO - Falling back to voiceover only
2025-04-30 13:00:42,423 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746003555.mp4.temp
2025-04-30 13:00:42,425 - video_generator - INFO - Write permission test successful
2025-04-30 13:00:45,221 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746003555.mp4.temp:

 b"[AVFormatContext @ 0000028dc623fb80] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003555.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000028dc623fa80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003555.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003555.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 654, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746003555.mp4.temp:

 b"[AVFormatContext @ 0000028dc623fb80] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003555.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000028dc623fa80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003555.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746003555.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 13:00:45,222 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 13:02:36,924 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746003555.mp4
2025-04-30 13:10:24,377 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 13:10:24,464 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_131011.mp3, duration: 54.39s
2025-04-30 13:10:24,465 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 13:10:24,465 - video_generator - INFO - Image query: starship flying, outer space, galaxy
2025-04-30 13:10:24,465 - video_generator - INFO - Video query: starship flying, outer space, planet surface
2025-04-30 13:10:24,465 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 13:10:27,943 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\starship_flying__outer_space__planet_surface_1746004225.mp4
2025-04-30 13:10:28,342 - video_generator - INFO - Loaded video clip, duration: 6.78s
2025-04-30 13:10:28,363 - video_generator - INFO - Generating scene 2 with duration 5.83s
2025-04-30 13:10:28,363 - video_generator - INFO - Image query: young jedi, lightsaber, training session
2025-04-30 13:10:28,364 - video_generator - INFO - Video query: jedi training, young jedi, lightsaber training
2025-04-30 13:10:28,364 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 13:10:38,614 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.83s to give image at least 2.00s
2025-04-30 13:10:38,719 - video_generator - INFO - Generating scene 3 with duration 5.00s
2025-04-30 13:10:38,719 - video_generator - INFO - Image query: numbers on a screen, calculations
2025-04-30 13:10:38,719 - video_generator - INFO - Video query: data analysis, counting, numbers
2025-04-30 13:10:38,719 - video_generator - INFO - Scene 3 is \u2264 5 seconds, using only video
2025-04-30 13:10:43,421 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\data_analysis__counting__numbers_1746004239.mp4
2025-04-30 13:10:43,563 - video_generator - INFO - Loaded video clip, duration: 7.78s
2025-04-30 13:10:43,575 - video_generator - INFO - Generating scene 4 with duration 6.01s
2025-04-30 13:10:43,576 - video_generator - INFO - Image query: diverse alien species, market goods
2025-04-30 13:10:43,576 - video_generator - INFO - Video query: alien marketplace, diverse species, trading
2025-04-30 13:10:43,576 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 13:10:49,819 - video_generator - INFO - Generating scene 5 with duration 5.00s
2025-04-30 13:10:49,819 - video_generator - INFO - Image query: numbers being added, calculator
2025-04-30 13:10:49,819 - video_generator - INFO - Video query: calculating, adding numbers, simple math
2025-04-30 13:10:49,819 - video_generator - INFO - Scene 5 is \u2264 5 seconds, using only video
2025-04-30 13:10:55,088 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\calculating__adding_numbers__simple_math_1746004250.mp4
2025-04-30 13:10:55,471 - video_generator - INFO - Loaded video clip, duration: 20.93s
2025-04-30 13:10:55,480 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-30 13:10:55,480 - video_generator - INFO - Image query: wise leaders, meeting room
2025-04-30 13:10:55,480 - video_generator - INFO - Video query: jedi council, wise leaders, discussion
2025-04-30 13:10:55,480 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-30 13:10:59,414 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\jedi_council__wise_leaders__discussion_1746004256.mp4
2025-04-30 13:10:59,615 - video_generator - INFO - Loaded video clip, duration: 12.87s
2025-04-30 13:10:59,627 - video_generator - INFO - Generating scene 7 with duration 6.48s
2025-04-30 13:10:59,628 - video_generator - INFO - Image query: dividing numbers, math symbols
2025-04-30 13:10:59,628 - video_generator - INFO - Video query: dividing, mathematical operations, galaxy information
2025-04-30 13:10:59,628 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 13:11:06,235 - video_generator - INFO - Generating scene 8 with duration 5.28s
2025-04-30 13:11:06,235 - video_generator - INFO - Image query: happy jedi, celebrations
2025-04-30 13:11:06,235 - video_generator - INFO - Video query: mean calculation, average results, triumphant
2025-04-30 13:11:06,235 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 13:11:13,758 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.28s to give image at least 2.00s
2025-04-30 13:11:13,864 - video_generator - INFO - Generating scene 9 with duration 5.41s
2025-04-30 13:11:13,865 - video_generator - INFO - Image query: students celebrating, knowledge
2025-04-30 13:11:13,865 - video_generator - INFO - Video query: success, understanding, learning
2025-04-30 13:11:13,865 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 13:11:20,362 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.41s to give image at least 2.00s
2025-04-30 13:11:20,440 - video_generator - INFO - Generating scene 10 with duration 5.33s
2025-04-30 13:11:20,441 - video_generator - INFO - Image query: starship flying, infinite stars
2025-04-30 13:11:20,441 - video_generator - INFO - Video query: starship, adventure, journey
2025-04-30 13:11:20,441 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 13:11:33,425 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.33s to give image at least 2.00s
2025-04-30 13:11:33,573 - video_generator - INFO - Total clip durations: 54.35s, Audio duration: 54.39s
2025-04-30 13:11:33,637 - video_generator - INFO - Selected background music: Star Wars Theme Canon Submain music.mp3
2025-04-30 13:11:33,705 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 13:11:33,705 - video_generator - INFO - Falling back to voiceover only
2025-04-30 13:11:33,705 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004224.mp4.temp
2025-04-30 13:11:33,705 - video_generator - INFO - Write permission test successful
2025-04-30 13:11:35,674 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004224.mp4.temp:

 b"[AVFormatContext @ 000002ef49398c00] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004224.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002ef48c42c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004224.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004224.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 654, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004224.mp4.temp:

 b"[AVFormatContext @ 000002ef49398c00] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004224.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002ef48c42c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004224.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004224.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 13:11:35,674 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 13:12:35,977 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004224.mp4
2025-04-30 13:19:37,957 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 13:19:38,041 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_131922.mp3, duration: 70.92s
2025-04-30 13:19:38,041 - video_generator - INFO - Generating scene 1 with duration 5.65s
2025-04-30 13:19:38,041 - video_generator - INFO - Image query: magical classroom blackboard
2025-04-30 13:19:38,041 - video_generator - INFO - Video query: mean definition statistics wizard
2025-04-30 13:19:38,041 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 13:19:44,510 - video_generator - INFO - Scene 1: Adjusted video time from 4.0s to 3.65s to give image at least 2.00s
2025-04-30 13:19:44,622 - video_generator - INFO - Generating scene 2 with duration 6.30s
2025-04-30 13:19:44,622 - video_generator - INFO - Image query: wizard calculating with wand
2025-04-30 13:19:44,622 - video_generator - INFO - Video query: average calculation spells
2025-04-30 13:19:44,622 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 13:19:52,064 - video_generator - INFO - Generating scene 3 with duration 6.35s
2025-04-30 13:19:52,064 - video_generator - INFO - Image query: magical potion ingredients
2025-04-30 13:19:52,064 - video_generator - INFO - Video query: how to calculate mean math
2025-04-30 13:19:52,064 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 13:19:59,509 - video_generator - INFO - Generating scene 4 with duration 7.08s
2025-04-30 13:19:59,510 - video_generator - INFO - Image query: wizard stirring cauldron
2025-04-30 13:19:59,510 - video_generator - INFO - Video query: adding numbers in math
2025-04-30 13:19:59,510 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 13:20:06,760 - video_generator - INFO - Generating scene 5 with duration 5.88s
2025-04-30 13:20:06,760 - video_generator - INFO - Image query: scroll with written numbers
2025-04-30 13:20:06,760 - video_generator - INFO - Video query: mean calculation steps
2025-04-30 13:20:06,760 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 13:20:13,835 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.88s to give image at least 2.00s
2025-04-30 13:20:13,969 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-30 13:20:13,969 - video_generator - INFO - Image query: glowing numbers sum
2025-04-30 13:20:13,969 - video_generator - INFO - Video query: sum of numbers example
2025-04-30 13:20:13,969 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-30 13:20:17,173 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\sum_of_numbers_example_1746004814.mp4
2025-04-30 13:20:17,504 - video_generator - INFO - Loaded video clip, duration: 11.31s
2025-04-30 13:20:17,508 - video_generator - INFO - Generating scene 7 with duration 5.00s
2025-04-30 13:20:17,508 - video_generator - INFO - Image query: potion recipes on a table
2025-04-30 13:20:17,508 - video_generator - INFO - Video query: total ingredients count
2025-04-30 13:20:17,508 - video_generator - INFO - Scene 7 is \u2264 5 seconds, using only video
2025-04-30 13:20:23,364 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\total_ingredients_count_1746004819.mp4
2025-04-30 13:20:23,543 - video_generator - INFO - Loaded video clip, duration: 14.97s
2025-04-30 13:20:23,557 - video_generator - INFO - Generating scene 8 with duration 5.00s
2025-04-30 13:20:23,558 - video_generator - INFO - Image query: wizard with calculator
2025-04-30 13:20:23,558 - video_generator - INFO - Video query: division in math
2025-04-30 13:20:23,558 - video_generator - INFO - Scene 8 is \u2264 5 seconds, using only video
2025-04-30 13:20:26,342 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\division_in_math_1746004824.mp4
2025-04-30 13:20:26,586 - video_generator - INFO - Loaded video clip, duration: 12.71s
2025-04-30 13:20:26,590 - video_generator - INFO - Generating scene 9 with duration 5.52s
2025-04-30 13:20:26,591 - video_generator - INFO - Image query: sparkling average value numbers
2025-04-30 13:20:26,591 - video_generator - INFO - Video query: calculating average value
2025-04-30 13:20:26,591 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 13:20:31,315 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.52s to give image at least 2.00s
2025-04-30 13:20:31,342 - video_generator - INFO - Generating scene 10 with duration 6.80s
2025-04-30 13:20:31,342 - video_generator - INFO - Image query: students in classroom
2025-04-30 13:20:31,342 - video_generator - INFO - Video query: mean in real life examples
2025-04-30 13:20:31,342 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 13:20:37,927 - video_generator - INFO - Generating scene 11 with duration 5.88s
2025-04-30 13:20:37,927 - video_generator - INFO - Image query: wizard showing great book
2025-04-30 13:20:37,927 - video_generator - INFO - Video query: importance of mean statistics
2025-04-30 13:20:37,927 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 13:20:45,130 - video_generator - INFO - Scene 11: Adjusted video time from 4.0s to 3.88s to give image at least 2.00s
2025-04-30 13:20:45,251 - video_generator - INFO - Generating scene 12 with duration 6.43s
2025-04-30 13:20:45,251 - video_generator - INFO - Image query: happy students celebrating
2025-04-30 13:20:45,251 - video_generator - INFO - Video query: math in wizarding world
2025-04-30 13:20:45,251 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 13:20:51,896 - video_generator - INFO - Total clip durations: 70.88s, Audio duration: 70.92s
2025-04-30 13:20:51,974 - video_generator - INFO - Selected background music: A Window to the Past.mp3
2025-04-30 13:20:52,059 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 13:20:52,059 - video_generator - INFO - Falling back to voiceover only
2025-04-30 13:20:52,060 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004777.mp4.temp
2025-04-30 13:20:52,060 - video_generator - INFO - Write permission test successful
2025-04-30 13:20:54,711 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004777.mp4.temp:

 b"[AVFormatContext @ 000001daf1e54300] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004777.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001daf25f8ec0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004777.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004777.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 506, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004777.mp4.temp:

 b"[AVFormatContext @ 000001daf1e54300] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004777.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001daf25f8ec0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004777.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004777.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 13:20:54,711 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 13:22:16,000 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004777.mp4
2025-04-30 13:22:55,491 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 13:22:55,592 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_132240.mp3, duration: 63.48s
2025-04-30 13:22:55,592 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 13:22:55,592 - video_generator - INFO - Image query: wizard with wand, enchanted book, magical symbols
2025-04-30 13:22:55,592 - video_generator - INFO - Video query: definition of median, middle value, statistical concepts
2025-04-30 13:22:55,592 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 13:23:00,607 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\definition_of_median__middle_value__statistical_co_1746004977.mp4
2025-04-30 13:23:00,904 - video_generator - INFO - Loaded video clip, duration: 30.87s
2025-04-30 13:23:00,909 - video_generator - INFO - Generating scene 2 with duration 5.54s
2025-04-30 13:23:00,909 - video_generator - INFO - Image query: numbers in order, potion ingredients, classroom setting
2025-04-30 13:23:00,909 - video_generator - INFO - Video query: how to find median, arrange numbers, example of median
2025-04-30 13:23:00,909 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 13:23:07,727 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-30 13:23:07,936 - video_generator - INFO - Generating scene 3 with duration 5.28s
2025-04-30 13:23:07,936 - video_generator - INFO - Image query: middle value highlighted, magical chalkboard, sorting scroll
2025-04-30 13:23:07,937 - video_generator - INFO - Video query: odd number of values, finding the middle, simple math
2025-04-30 13:23:07,937 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 13:23:14,682 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.28s to give image at least 2.00s
2025-04-30 13:23:14,767 - video_generator - INFO - Generating scene 4 with duration 5.12s
2025-04-30 13:23:14,767 - video_generator - INFO - Image query: pair of numbers shown, magic potion, cauldron bubbling
2025-04-30 13:23:14,767 - video_generator - INFO - Video query: even number of values, average middle numbers, calculation
2025-04-30 13:23:14,767 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 13:23:26,844 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.12s to give image at least 2.00s
2025-04-30 13:23:26,948 - video_generator - INFO - Generating scene 5 with duration 5.33s
2025-04-30 13:23:26,948 - video_generator - INFO - Image query: example numbers displayed, magical items, focus group of students
2025-04-30 13:23:26,948 - video_generator - INFO - Video query: example calculation, calculated median, practical example
2025-04-30 13:23:26,948 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 13:23:31,076 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.33s to give image at least 2.00s
2025-04-30 13:23:31,111 - video_generator - INFO - Generating scene 6 with duration 5.93s
2025-04-30 13:23:31,111 - video_generator - INFO - Image query: numbers merging, wand casting spell, students pondering
2025-04-30 13:23:31,111 - video_generator - INFO - Video query: step-by-step calculation, working with numbers, finding answer
2025-04-30 13:23:31,111 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 13:23:41,130 - video_generator - INFO - Scene 6: Adjusted video time from 4.0s to 3.93s to give image at least 2.00s
2025-04-30 13:23:41,281 - video_generator - INFO - Generating scene 7 with duration 5.23s
2025-04-30 13:23:41,281 - video_generator - INFO - Image query: students discussing, classroom interaction, magical interaction
2025-04-30 13:23:41,281 - video_generator - INFO - Video query: real-life examples of median, practical application, statistics in daily life
2025-04-30 13:23:41,281 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 13:23:48,417 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.23s to give image at least 2.00s
2025-04-30 13:23:48,451 - video_generator - INFO - Generating scene 8 with duration 5.23s
2025-04-30 13:23:48,451 - video_generator - INFO - Image query: two students debating, different calculations, revealing results
2025-04-30 13:23:48,451 - video_generator - INFO - Video query: how median compares to average, differences in statistics, learning concepts
2025-04-30 13:23:48,451 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 13:23:57,268 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.23s to give image at least 2.00s
2025-04-30 13:23:57,403 - video_generator - INFO - Generating scene 9 with duration 5.00s
2025-04-30 13:23:57,403 - video_generator - INFO - Image query: houses represented, points chart, friendly competition
2025-04-30 13:23:57,403 - video_generator - INFO - Video query: median in houses comparison, house points average, student achievement
2025-04-30 13:23:57,403 - video_generator - INFO - Scene 9 is \u2264 5 seconds, using only video
2025-04-30 13:24:00,413 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\median_in_houses_comparison__house_points_average__1746005039.mp4
2025-04-30 13:24:00,557 - video_generator - INFO - Loaded video clip, duration: 4.24s
2025-04-30 13:24:00,613 - video_generator - INFO - Generating scene 10 with duration 5.78s
2025-04-30 13:24:00,614 - video_generator - INFO - Image query: studious students, classroom celebration, learning moment
2025-04-30 13:24:00,614 - video_generator - INFO - Video query: summary of finding median, key takeaways, final thoughts
2025-04-30 13:24:00,614 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 13:24:07,234 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.78s to give image at least 2.00s
2025-04-30 13:24:07,362 - video_generator - INFO - Generating scene 11 with duration 5.00s
2025-04-30 13:24:07,362 - video_generator - INFO - Image query: students working together, group study, excitement in learning
2025-04-30 13:24:07,362 - video_generator - INFO - Video query: apply median knowledge, practice problems, teamwork
2025-04-30 13:24:07,362 - video_generator - INFO - Scene 11 is \u2264 5 seconds, using only video
2025-04-30 13:24:12,290 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\apply_median_knowledge__practice_problems__teamwor_1746005048.mp4
2025-04-30 13:24:12,427 - video_generator - INFO - Loaded video clip, duration: 33.96s
2025-04-30 13:24:12,438 - video_generator - INFO - Generating scene 12 with duration 5.00s
2025-04-30 13:24:12,439 - video_generator - INFO - Image query: Hermione giving thumbs up, magical celebration, happy students
2025-04-30 13:24:12,439 - video_generator - INFO - Video query: conclusion of median video, final thoughts, Hermione's advice
2025-04-30 13:24:12,439 - video_generator - INFO - Scene 12 is \u2264 5 seconds, using only video
2025-04-30 13:24:16,452 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\conclusion_of_median_video__final_thoughts__Hermio_1746005053.mp4
2025-04-30 13:24:16,601 - video_generator - INFO - Loaded video clip, duration: 25.04s
2025-04-30 13:24:16,872 - video_generator - INFO - Total clip durations: 63.45s, Audio duration: 63.48s
2025-04-30 13:24:16,971 - video_generator - INFO - Selected background music: A Window to the Past.mp3
2025-04-30 13:24:17,047 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 13:24:17,047 - video_generator - INFO - Falling back to voiceover only
2025-04-30 13:24:17,047 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004975.mp4.temp
2025-04-30 13:24:17,048 - video_generator - INFO - Write permission test successful
2025-04-30 13:24:19,798 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004975.mp4.temp:

 b"[AVFormatContext @ 000002a023092ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004975.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002a0230d3040] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004975.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004975.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 506, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004975.mp4.temp:

 b"[AVFormatContext @ 000002a023092ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004975.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002a0230d3040] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004975.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746004975.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 13:24:19,798 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 13:26:19,603 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746004975.mp4
2025-04-30 13:26:53,897 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 13:26:53,984 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_132638.mp3, duration: 62.9s
2025-04-30 13:26:53,984 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 13:26:53,985 - video_generator - INFO - Image query: witch reading a book
2025-04-30 13:26:53,985 - video_generator - INFO - Video query: introduction to mode definition
2025-04-30 13:26:53,985 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 13:26:56,883 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\introduction_to_mode_definition_1746005215.mp4
2025-04-30 13:26:57,035 - video_generator - INFO - Loaded video clip, duration: 7.09s
2025-04-30 13:26:57,043 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-30 13:26:57,044 - video_generator - INFO - Image query: students in class
2025-04-30 13:26:57,044 - video_generator - INFO - Video query: mathematics in Hogwarts
2025-04-30 13:26:57,044 - video_generator - INFO - Scene 2 is \u2264 5 seconds, using only video
2025-04-30 13:27:01,546 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\mathematics_in_Hogwarts_1746005217.mp4
2025-04-30 13:27:01,760 - video_generator - INFO - Loaded video clip, duration: 29.04s
2025-04-30 13:27:01,786 - video_generator - INFO - Generating scene 3 with duration 5.93s
2025-04-30 13:27:01,786 - video_generator - INFO - Image query: numbers and symbols
2025-04-30 13:27:01,786 - video_generator - INFO - Video query: examples of numbers
2025-04-30 13:27:01,786 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 13:27:09,829 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.93s to give image at least 2.00s
2025-04-30 13:27:09,982 - video_generator - INFO - Generating scene 4 with duration 5.00s
2025-04-30 13:27:09,983 - video_generator - INFO - Image query: wizard with a wand and a scroll
2025-04-30 13:27:09,983 - video_generator - INFO - Video query: wizard calculating numbers
2025-04-30 13:27:09,983 - video_generator - INFO - Scene 4 is \u2264 5 seconds, using only video
2025-04-30 13:27:12,554 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\wizard_calculating_numbers_1746005230.mp4
2025-04-30 13:27:12,715 - video_generator - INFO - Loaded video clip, duration: 7.3s
2025-04-30 13:27:12,723 - video_generator - INFO - Generating scene 5 with duration 5.00s
2025-04-30 13:27:12,724 - video_generator - INFO - Image query: students counting items
2025-04-30 13:27:12,724 - video_generator - INFO - Video query: data collection scene
2025-04-30 13:27:12,724 - video_generator - INFO - Scene 5 is \u2264 5 seconds, using only video
2025-04-30 13:27:16,088 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\data_collection_scene_1746005234.mp4
2025-04-30 13:27:16,184 - video_generator - INFO - Loaded video clip, duration: 8.04s
2025-04-30 13:27:16,190 - video_generator - INFO - Generating scene 6 with duration 6.43s
2025-04-30 13:27:16,191 - video_generator - INFO - Image query: various magical creatures
2025-04-30 13:27:16,191 - video_generator - INFO - Video query: creature data example
2025-04-30 13:27:16,191 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 13:27:22,838 - video_generator - INFO - Generating scene 7 with duration 5.00s
2025-04-30 13:27:22,838 - video_generator - INFO - Image query: wizard calculating
2025-04-30 13:27:22,838 - video_generator - INFO - Video query: mode calculation process
2025-04-30 13:27:22,838 - video_generator - INFO - Scene 7 is \u2264 5 seconds, using only video
2025-04-30 13:27:27,247 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\mode_calculation_process_1746005244.mp4
2025-04-30 13:27:27,405 - video_generator - INFO - Loaded video clip, duration: 22.44s
2025-04-30 13:27:27,417 - video_generator - INFO - Generating scene 8 with duration 5.00s
2025-04-30 13:27:27,418 - video_generator - INFO - Image query: students discussing
2025-04-30 13:27:27,418 - video_generator - INFO - Video query: importance of mode
2025-04-30 13:27:27,418 - video_generator - INFO - Scene 8 is \u2264 5 seconds, using only video
2025-04-30 13:27:32,730 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\importance_of_mode_1746005248.mp4
2025-04-30 13:27:32,852 - video_generator - INFO - Loaded video clip, duration: 17.8s
2025-04-30 13:27:32,864 - video_generator - INFO - Generating scene 9 with duration 5.00s
2025-04-30 13:27:32,864 - video_generator - INFO - Image query: students practicing spells
2025-04-30 13:27:32,864 - video_generator - INFO - Video query: students testing spells
2025-04-30 13:27:32,864 - video_generator - INFO - Scene 9 is \u2264 5 seconds, using only video
2025-04-30 13:27:39,114 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\students_testing_spells_1746005254.mp4
2025-04-30 13:27:39,308 - video_generator - INFO - Loaded video clip, duration: 52.64s
2025-04-30 13:27:39,321 - video_generator - INFO - Generating scene 10 with duration 5.00s
2025-04-30 13:27:39,322 - video_generator - INFO - Image query: students surveying
2025-04-30 13:27:39,322 - video_generator - INFO - Video query: gathering more data
2025-04-30 13:27:39,322 - video_generator - INFO - Scene 10 is \u2264 5 seconds, using only video
2025-04-30 13:27:43,260 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\gathering_more_data_1746005260.mp4
2025-04-30 13:27:43,461 - video_generator - INFO - Loaded video clip, duration: 23.48s
2025-04-30 13:27:43,470 - video_generator - INFO - Generating scene 11 with duration 5.52s
2025-04-30 13:27:43,471 - video_generator - INFO - Image query: friends studying together
2025-04-30 13:27:43,471 - video_generator - INFO - Video query: learning with friends
2025-04-30 13:27:43,471 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 13:27:50,906 - video_generator - INFO - Scene 11: Adjusted video time from 4.0s to 3.52s to give image at least 2.00s
2025-04-30 13:27:51,068 - video_generator - INFO - Generating scene 12 with duration 5.00s
2025-04-30 13:27:51,068 - video_generator - INFO - Image query: happy students
2025-04-30 13:27:51,068 - video_generator - INFO - Video query: conclusion to mode concept
2025-04-30 13:27:51,068 - video_generator - INFO - Scene 12 is \u2264 5 seconds, using only video
2025-04-30 13:27:54,427 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\conclusion_to_mode_concept_1746005271.mp4
2025-04-30 13:27:54,611 - video_generator - INFO - Loaded video clip, duration: 17.04s
2025-04-30 13:27:54,823 - video_generator - INFO - Total clip durations: 62.88s, Audio duration: 62.90s
2025-04-30 13:27:54,904 - video_generator - INFO - Selected background music: Hedwig's Theme (Theme from Harry Potter).mp3
2025-04-30 13:27:54,982 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 13:27:54,982 - video_generator - INFO - Falling back to voiceover only
2025-04-30 13:27:54,983 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746005213.mp4.temp
2025-04-30 13:27:54,983 - video_generator - INFO - Write permission test successful
2025-04-30 13:27:57,294 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746005213.mp4.temp:

 b"[AVFormatContext @ 0000024237852ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005213.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000024237812ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005213.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005213.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 506, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746005213.mp4.temp:

 b"[AVFormatContext @ 0000024237852ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005213.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000024237812ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005213.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005213.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 13:27:57,294 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 13:29:09,242 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746005213.mp4
2025-04-30 13:37:28,099 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 13:37:28,183 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_133713.mp3, duration: 66.93s
2025-04-30 13:37:28,183 - video_generator - INFO - Generating scene 1 with duration 6.35s
2025-04-30 13:37:28,183 - video_generator - INFO - Image query: wizard with wand classroom
2025-04-30 13:37:28,183 - video_generator - INFO - Video query: mean calculation average wizard
2025-04-30 13:37:28,183 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 13:37:36,361 - video_generator - INFO - Generating scene 2 with duration 5.78s
2025-04-30 13:37:36,362 - video_generator - INFO - Image query: chalkboard with numbers
2025-04-30 13:37:36,362 - video_generator - INFO - Video query: students in classroom math
2025-04-30 13:37:36,362 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 13:37:41,896 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.78s to give image at least 2.00s
2025-04-30 13:37:42,001 - video_generator - INFO - Generating scene 3 with duration 6.30s
2025-04-30 13:37:42,001 - video_generator - INFO - Image query: students writing in notebooks
2025-04-30 13:37:42,001 - video_generator - INFO - Video query: adding scores classroom
2025-04-30 13:37:42,001 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 13:37:48,051 - video_generator - INFO - Generating scene 4 with duration 5.83s
2025-04-30 13:37:48,051 - video_generator - INFO - Image query: calculating on chalkboard
2025-04-30 13:37:48,052 - video_generator - INFO - Video query: sum of numbers calculation
2025-04-30 13:37:48,052 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 13:37:54,136 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.83s to give image at least 2.00s
2025-04-30 13:37:54,309 - video_generator - INFO - Generating scene 5 with duration 5.00s
2025-04-30 13:37:54,309 - video_generator - INFO - Image query: calculator on desk
2025-04-30 13:37:54,309 - video_generator - INFO - Video query: divide numbers classroom
2025-04-30 13:37:54,309 - video_generator - INFO - Scene 5 is \u2264 5 seconds, using only video
2025-04-30 13:37:57,185 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\divide_numbers_classroom_1746005875.mp4
2025-04-30 13:37:57,321 - video_generator - INFO - Loaded video clip, duration: 13.86s
2025-04-30 13:37:57,333 - video_generator - INFO - Generating scene 6 with duration 5.00s
2025-04-30 13:37:57,333 - video_generator - INFO - Image query: students cheering
2025-04-30 13:37:57,333 - video_generator - INFO - Video query: mean score calculation
2025-04-30 13:37:57,333 - video_generator - INFO - Scene 6 is \u2264 5 seconds, using only video
2025-04-30 13:38:02,480 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\mean_score_calculation_1746005879.mp4
2025-04-30 13:38:02,588 - video_generator - INFO - Loaded video clip, duration: 20.0s
2025-04-30 13:38:02,611 - video_generator - INFO - Generating scene 7 with duration 6.12s
2025-04-30 13:38:02,611 - video_generator - INFO - Image query: students with books
2025-04-30 13:38:02,611 - video_generator - INFO - Video query: average in class performance
2025-04-30 13:38:02,611 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 13:38:10,665 - video_generator - INFO - Generating scene 8 with duration 5.00s
2025-04-30 13:38:10,665 - video_generator - INFO - Image query: students discussing
2025-04-30 13:38:10,665 - video_generator - INFO - Video query: application of mean in decisions
2025-04-30 13:38:10,665 - video_generator - INFO - Scene 8 is \u2264 5 seconds, using only video
2025-04-30 13:38:13,416 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\application_of_mean_in_decisions_1746005891.mp4
2025-04-30 13:38:13,617 - video_generator - INFO - Loaded video clip, duration: 6.33s
2025-04-30 13:38:13,627 - video_generator - INFO - Generating scene 9 with duration 5.93s
2025-04-30 13:38:13,628 - video_generator - INFO - Image query: potion bottles
2025-04-30 13:38:13,628 - video_generator - INFO - Video query: deciding on potion recipe
2025-04-30 13:38:13,628 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 13:38:20,351 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.93s to give image at least 2.00s
2025-04-30 13:38:20,414 - video_generator - INFO - Generating scene 10 with duration 5.00s
2025-04-30 13:38:20,414 - video_generator - INFO - Image query: wizard library
2025-04-30 13:38:20,414 - video_generator - INFO - Video query: mean calculation importance
2025-04-30 13:38:20,414 - video_generator - INFO - Scene 10 is \u2264 5 seconds, using only video
2025-04-30 13:38:24,315 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\mean_calculation_importance_1746005901.mp4
2025-04-30 13:38:24,512 - video_generator - INFO - Loaded video clip, duration: 26.48s
2025-04-30 13:38:24,549 - video_generator - INFO - Generating scene 11 with duration 5.00s
2025-04-30 13:38:24,549 - video_generator - INFO - Image query: celebrating students
2025-04-30 13:38:24,550 - video_generator - INFO - Video query: students celebrating learning
2025-04-30 13:38:24,550 - video_generator - INFO - Scene 11 is \u2264 5 seconds, using only video
2025-04-30 13:38:29,069 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\students_celebrating_learning_1746005905.mp4
2025-04-30 13:38:29,203 - video_generator - INFO - Loaded video clip, duration: 9.12s
2025-04-30 13:38:29,224 - video_generator - INFO - Generating scene 12 with duration 5.59s
2025-04-30 13:38:29,224 - video_generator - INFO - Image query: magical scene
2025-04-30 13:38:29,225 - video_generator - INFO - Video query: magic in learning
2025-04-30 13:38:29,225 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 13:38:35,510 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.59s to give image at least 2.00s
2025-04-30 13:38:35,676 - video_generator - INFO - Total clip durations: 66.90s, Audio duration: 66.93s
2025-04-30 13:38:35,745 - video_generator - INFO - Selected background music: Hedwig's Theme (Theme from Harry Potter).mp3
2025-04-30 13:38:35,815 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 13:38:35,815 - video_generator - INFO - Falling back to voiceover only
2025-04-30 13:38:35,816 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746005848.mp4.temp
2025-04-30 13:38:35,816 - video_generator - INFO - Write permission test successful
2025-04-30 13:38:38,108 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746005848.mp4.temp:

 b"[AVFormatContext @ 000001dc85112ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005848.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001dc85153f40] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005848.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005848.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 506, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746005848.mp4.temp:

 b"[AVFormatContext @ 000001dc85112ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005848.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000001dc85153f40] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005848.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746005848.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 13:38:38,108 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 13:39:54,938 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746005848.mp4
2025-04-30 13:44:02,612 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 13:44:02,693 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_134344.mp3, duration: 64.05s
2025-04-30 13:44:02,693 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 13:44:02,693 - video_generator - INFO - Image query: plants releasing vapor, misty garden
2025-04-30 13:44:02,693 - video_generator - INFO - Video query: water cycle, evaporation, magical garden
2025-04-30 13:44:02,693 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 13:44:06,158 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\water_cycle__evaporation__magical_garden_1746006243.mp4
2025-04-30 13:44:06,274 - video_generator - INFO - Loaded video clip, duration: 8.01s
2025-04-30 13:44:06,284 - video_generator - INFO - Generating scene 2 with duration 5.96s
2025-04-30 13:44:06,284 - video_generator - INFO - Image query: rising vapor, enchanted pond
2025-04-30 13:44:06,284 - video_generator - INFO - Video query: water turning into vapor, magical effects
2025-04-30 13:44:06,284 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 13:44:13,311 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.96s to give image at least 2.00s
2025-04-30 13:44:13,468 - video_generator - INFO - Generating scene 3 with duration 5.00s
2025-04-30 13:44:13,468 - video_generator - INFO - Image query: bright sun over plants, shimmering leaves
2025-04-30 13:44:13,468 - video_generator - INFO - Video query: sunshine, plants in sunlight
2025-04-30 13:44:13,468 - video_generator - INFO - Scene 3 is \u2264 5 seconds, using only video
2025-04-30 13:44:17,358 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\sunshine__plants_in_sunlight_1746006254.mp4
2025-04-30 13:44:17,471 - video_generator - INFO - Loaded video clip, duration: 28.41s
2025-04-30 13:44:17,477 - video_generator - INFO - Generating scene 4 with duration 5.54s
2025-04-30 13:44:17,477 - video_generator - INFO - Image query: leaves with droplets, mist around plants
2025-04-30 13:44:17,477 - video_generator - INFO - Video query: plants releasing water, magical nature
2025-04-30 13:44:17,477 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 13:44:24,620 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-30 13:44:24,688 - video_generator - INFO - Generating scene 5 with duration 5.36s
2025-04-30 13:44:24,688 - video_generator - INFO - Image query: close-up of leaves, breath of plants
2025-04-30 13:44:24,688 - video_generator - INFO - Video query: plants breathing, magical atmosphere
2025-04-30 13:44:24,688 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 13:44:31,456 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.36s to give image at least 2.00s
2025-04-30 13:44:31,564 - video_generator - INFO - Generating scene 6 with duration 6.12s
2025-04-30 13:44:31,564 - video_generator - INFO - Image query: dark clouds, drops of rain
2025-04-30 13:44:31,564 - video_generator - INFO - Video query: water cycle, rain forming
2025-04-30 13:44:31,564 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 13:44:40,169 - video_generator - INFO - Generating scene 7 with duration 5.00s
2025-04-30 13:44:40,169 - video_generator - INFO - Image query: overcast sky, magical landscape
2025-04-30 13:44:40,170 - video_generator - INFO - Video query: clouds, magical sky
2025-04-30 13:44:40,170 - video_generator - INFO - Scene 7 is \u2264 5 seconds, using only video
2025-04-30 13:44:42,850 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\clouds__magical_sky_1746006281.mp4
2025-04-30 13:44:42,977 - video_generator - INFO - Loaded video clip, duration: 16.12s
2025-04-30 13:44:43,005 - video_generator - INFO - Generating scene 8 with duration 5.00s
2025-04-30 13:44:43,005 - video_generator - INFO - Image query: raindrops on leaves, magical garden
2025-04-30 13:44:43,005 - video_generator - INFO - Video query: rain falling, plants thriving
2025-04-30 13:44:43,005 - video_generator - INFO - Scene 8 is \u2264 5 seconds, using only video
2025-04-30 13:44:48,681 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\rain_falling__plants_thriving_1746006283.mp4
2025-04-30 13:44:49,130 - video_generator - INFO - Loaded video clip, duration: 38.95s
2025-04-30 13:44:49,133 - video_generator - INFO - Generating scene 9 with duration 5.10s
2025-04-30 13:44:49,133 - video_generator - INFO - Image query: still water, reflections in pond
2025-04-30 13:44:49,133 - video_generator - INFO - Video query: water gathering, enchanted pond
2025-04-30 13:44:49,133 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 13:44:58,582 - video_generator - INFO - Scene 9: Adjusted video time from 4.0s to 3.10s to give image at least 2.00s
2025-04-30 13:44:58,673 - video_generator - INFO - Generating scene 10 with duration 5.41s
2025-04-30 13:44:58,675 - video_generator - INFO - Image query: water cycle diagram, enchanted elements
2025-04-30 13:44:58,675 - video_generator - INFO - Video query: circle of life, water cycle
2025-04-30 13:44:58,675 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 13:45:08,049 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.41s to give image at least 2.00s
2025-04-30 13:45:08,131 - video_generator - INFO - Generating scene 11 with duration 5.00s
2025-04-30 13:45:08,131 - video_generator - INFO - Image query: balanced ecosystem, magical creatures
2025-04-30 13:45:08,131 - video_generator - INFO - Video query: nature's harmony, magical equilibrium
2025-04-30 13:45:08,131 - video_generator - INFO - Scene 11 is \u2264 5 seconds, using only video
2025-04-30 13:45:11,444 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\nature_s_harmony__magical_equilibrium_1746006309.mp4
2025-04-30 13:45:11,733 - video_generator - INFO - Loaded video clip, duration: 10.2s
2025-04-30 13:45:11,737 - video_generator - INFO - Generating scene 12 with duration 5.54s
2025-04-30 13:45:11,737 - video_generator - INFO - Image query: bright flowers, flourishing garden
2025-04-30 13:45:11,737 - video_generator - INFO - Video query: conclusion of lesson, happy plants
2025-04-30 13:45:11,737 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 13:45:21,760 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.54s to give image at least 2.00s
2025-04-30 13:45:21,982 - video_generator - INFO - Total clip durations: 64.03s, Audio duration: 64.05s
2025-04-30 13:45:22,048 - video_generator - INFO - Selected background music: A Window to the Past.mp3
2025-04-30 13:45:22,115 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 13:45:22,115 - video_generator - INFO - Falling back to voiceover only
2025-04-30 13:45:22,116 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746006242.mp4.temp
2025-04-30 13:45:22,116 - video_generator - INFO - Write permission test successful
2025-04-30 13:45:24,447 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746006242.mp4.temp:

 b"[AVFormatContext @ 000002a570695b40] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746006242.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002a570642ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746006242.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746006242.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 506, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746006242.mp4.temp:

 b"[AVFormatContext @ 000002a570695b40] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746006242.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002a570642ac0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746006242.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746006242.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 13:45:24,448 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 13:46:31,174 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746006242.mp4
2025-04-30 13:59:56,996 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 13:59:57,083 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_135941.mp3, duration: 76.07s
2025-04-30 13:59:57,084 - video_generator - INFO - Generating scene 1 with duration 6.61s
2025-04-30 13:59:57,084 - video_generator - INFO - Image query: vapor steam magical forest
2025-04-30 13:59:57,084 - video_generator - INFO - Video query: water cycle magic evaporation
2025-04-30 13:59:57,084 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 14:00:04,695 - video_generator - INFO - Generating scene 2 with duration 6.43s
2025-04-30 14:00:04,695 - video_generator - INFO - Image query: water droplets evaporating
2025-04-30 14:00:04,695 - video_generator - INFO - Video query: liquid turning to gas potion
2025-04-30 14:00:04,695 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 14:00:12,784 - video_generator - INFO - Generating scene 3 with duration 5.41s
2025-04-30 14:00:12,784 - video_generator - INFO - Image query: sun shining on lake
2025-04-30 14:00:12,784 - video_generator - INFO - Video query: sunlight water cycle
2025-04-30 14:00:12,784 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 14:00:19,367 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.41s to give image at least 2.00s
2025-04-30 14:00:19,402 - video_generator - INFO - Generating scene 4 with duration 6.12s
2025-04-30 14:00:19,402 - video_generator - INFO - Image query: boiling cauldron steam
2025-04-30 14:00:19,402 - video_generator - INFO - Video query: wizardly potion brewing steam
2025-04-30 14:00:19,402 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 14:00:28,231 - video_generator - INFO - Generating scene 5 with duration 5.93s
2025-04-30 14:00:28,231 - video_generator - INFO - Image query: leaves with droplets
2025-04-30 14:00:28,231 - video_generator - INFO - Video query: plants water vapor
2025-04-30 14:00:28,231 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 14:00:33,986 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.93s to give image at least 2.00s
2025-04-30 14:00:34,064 - video_generator - INFO - Generating scene 6 with duration 6.12s
2025-04-30 14:00:34,064 - video_generator - INFO - Image query: roots soaking up water
2025-04-30 14:00:34,064 - video_generator - INFO - Video query: plant water absorption process
2025-04-30 14:00:34,064 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 14:00:44,869 - video_generator - INFO - Generating scene 7 with duration 8.28s
2025-04-30 14:00:44,869 - video_generator - INFO - Image query: misty morning forest
2025-04-30 14:00:44,869 - video_generator - INFO - Video query: water vapor from plants
2025-04-30 14:00:44,869 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 14:00:50,522 - video_generator - INFO - Generating scene 8 with duration 6.12s
2025-04-30 14:00:50,522 - video_generator - INFO - Image query: cycle of water droplets
2025-04-30 14:00:50,522 - video_generator - INFO - Video query: evaporation and transpiration connection
2025-04-30 14:00:50,522 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 14:00:58,878 - video_generator - INFO - Generating scene 9 with duration 8.21s
2025-04-30 14:00:58,878 - video_generator - INFO - Image query: animated water cycle diagram
2025-04-30 14:00:58,878 - video_generator - INFO - Video query: water cycle education
2025-04-30 14:00:58,878 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 14:01:08,341 - video_generator - INFO - Generating scene 10 with duration 5.65s
2025-04-30 14:01:08,341 - video_generator - INFO - Image query: lush green environment
2025-04-30 14:01:08,341 - video_generator - INFO - Video query: nature and water vapor
2025-04-30 14:01:08,341 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 14:01:17,284 - video_generator - INFO - Scene 10: Adjusted video time from 4.0s to 3.65s to give image at least 2.00s
2025-04-30 14:01:17,406 - video_generator - INFO - Generating scene 11 with duration 5.41s
2025-04-30 14:01:17,406 - video_generator - INFO - Image query: wizard caring for plants
2025-04-30 14:01:17,406 - video_generator - INFO - Video query: environmental protection magic
2025-04-30 14:01:17,406 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 14:01:26,239 - video_generator - INFO - Scene 11: Adjusted video time from 4.0s to 3.41s to give image at least 2.00s
2025-04-30 14:01:26,335 - video_generator - INFO - Generating scene 12 with duration 5.75s
2025-04-30 14:01:26,335 - video_generator - INFO - Image query: wizards waving goodbye
2025-04-30 14:01:26,335 - video_generator - INFO - Video query: thank you for watching education
2025-04-30 14:01:26,335 - video_generator - INFO - Scene 12 is > 5 seconds, using video + image
2025-04-30 14:01:34,698 - video_generator - INFO - Scene 12: Adjusted video time from 4.0s to 3.75s to give image at least 2.00s
2025-04-30 14:01:34,992 - video_generator - INFO - Total clip durations: 76.03s, Audio duration: 76.07s
2025-04-30 14:01:35,059 - video_generator - INFO - Selected background music: A Window to the Past.mp3
2025-04-30 14:01:35,125 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 14:01:35,125 - video_generator - INFO - Falling back to voiceover only
2025-04-30 14:01:35,126 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746007196.mp4.temp
2025-04-30 14:01:35,126 - video_generator - INFO - Write permission test successful
2025-04-30 14:01:37,746 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746007196.mp4.temp:

 b"[AVFormatContext @ 000002150343fd00] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007196.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 00000215033c2bc0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007196.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007196.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 506, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746007196.mp4.temp:

 b"[AVFormatContext @ 000002150343fd00] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007196.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 00000215033c2bc0] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007196.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007196.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 14:01:37,746 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 14:03:07,323 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746007196.mp4
2025-04-30 14:04:57,411 - video_generator - INFO - Serving video file: video_1746007196.mp4, size: 116158476 bytes
2025-04-30 14:05:00,985 - video_generator - INFO - Serving video file: video_1746007196.mp4, size: 116158476 bytes
2025-04-30 14:08:57,418 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 14:08:57,500 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_140844.mp3, duration: 56.95s
2025-04-30 14:08:57,500 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 14:08:57,500 - video_generator - INFO - Image query: Hogwarts lake, wizards watching water, magical trees
2025-04-30 14:08:57,500 - video_generator - INFO - Video query: water vapor process, magic in nature, Hogwarts science
2025-04-30 14:08:57,500 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 14:09:01,997 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\water_vapor_process__magic_in_nature__Hogwarts_sci_1746007738.mp4
2025-04-30 14:09:02,276 - video_generator - INFO - Loaded video clip, duration: 8.28s
2025-04-30 14:09:02,282 - video_generator - INFO - Generating scene 2 with duration 6.25s
2025-04-30 14:09:02,282 - video_generator - INFO - Image query: water vapor rising, steam over lake, science in nature
2025-04-30 14:09:02,282 - video_generator - INFO - Video query: evaporation concept, water turning into vapor, magical transformations
2025-04-30 14:09:02,282 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 14:09:09,178 - video_generator - INFO - Generating scene 3 with duration 5.46s
2025-04-30 14:09:09,178 - video_generator - INFO - Image query: wizard holding water, potion brewing, magical laboratory
2025-04-30 14:09:09,178 - video_generator - INFO - Video query: Harry Potter magic spells, wizard experiments, water potions
2025-04-30 14:09:09,178 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 14:09:16,136 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.46s to give image at least 2.00s
2025-04-30 14:09:16,219 - video_generator - INFO - Generating scene 4 with duration 5.52s
2025-04-30 14:09:16,219 - video_generator - INFO - Image query: plants releasing vapor, magical garden, sunny environment
2025-04-30 14:09:16,219 - video_generator - INFO - Video query: transpiration in plants, magical gardens, enchanted forest
2025-04-30 14:09:16,219 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 14:09:26,658 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.52s to give image at least 2.00s
2025-04-30 14:09:26,888 - video_generator - INFO - Generating scene 5 with duration 5.00s
2025-04-30 14:09:26,888 - video_generator - INFO - Image query: close-up of plant leaves, condensation on leaves, nature science
2025-04-30 14:09:26,888 - video_generator - INFO - Video query: plant processes in Hogwarts, magical botany, nature's magic
2025-04-30 14:09:26,888 - video_generator - INFO - Scene 5 is \u2264 5 seconds, using only video
2025-04-30 14:09:32,265 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\plant_processes_in_Hogwarts__magical_botany__natur_1746007768.mp4
2025-04-30 14:09:32,477 - video_generator - INFO - Loaded video clip, duration: 16.83s
2025-04-30 14:09:32,486 - video_generator - INFO - Generating scene 6 with duration 6.90s
2025-04-30 14:09:32,487 - video_generator - INFO - Image query: clouds and rain, Hogwarts rainstorm, nature's cycle
2025-04-30 14:09:32,487 - video_generator - INFO - Video query: water cycle, nature's way, magical weather
2025-04-30 14:09:32,487 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 14:09:41,190 - video_generator - INFO - Generating scene 7 with duration 5.65s
2025-04-30 14:09:41,190 - video_generator - INFO - Image query: rain falling at Hogwarts, puddles forming, magical ambiance
2025-04-30 14:09:41,190 - video_generator - INFO - Video query: water cycle explained, Hogwarts rains, magic of nature
2025-04-30 14:09:41,190 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 14:09:48,726 - video_generator - INFO - Scene 7: Adjusted video time from 4.0s to 3.65s to give image at least 2.00s
2025-04-30 14:09:48,866 - video_generator - INFO - Generating scene 8 with duration 5.78s
2025-04-30 14:09:48,866 - video_generator - INFO - Image query: lush landscapes at Hogwarts, thriving plants, enchanted garden
2025-04-30 14:09:48,867 - video_generator - INFO - Video query: importance of water cycle, plants and water, ecological magic
2025-04-30 14:09:48,867 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 14:09:58,424 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.78s to give image at least 2.00s
2025-04-30 14:09:58,574 - video_generator - INFO - Generating scene 9 with duration 6.35s
2025-04-30 14:09:58,574 - video_generator - INFO - Image query: wizards conserving water, lake conservation efforts, magical ecosystem
2025-04-30 14:09:58,574 - video_generator - INFO - Video query: water conservation importance, climate magic, lessons from nature
2025-04-30 14:09:58,574 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 14:10:13,035 - video_generator - INFO - Generating scene 10 with duration 5.00s
2025-04-30 14:10:13,035 - video_generator - INFO - Image query: students in classroom, Hogwarts library, sharing knowledge
2025-04-30 14:10:13,036 - video_generator - INFO - Video query: end of the lesson, magical knowledge, Hogwarts students learning
2025-04-30 14:10:13,036 - video_generator - INFO - Scene 10 is \u2264 5 seconds, using only video
2025-04-30 14:10:18,316 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\end_of_the_lesson__magical_knowledge__Hogwarts_stu_1746007814.mp4
2025-04-30 14:10:18,501 - video_generator - INFO - Loaded video clip, duration: 10.01s
2025-04-30 14:10:18,652 - video_generator - INFO - Total clip durations: 56.90s, Audio duration: 56.95s
2025-04-30 14:10:18,719 - video_generator - INFO - Selected background music: A Window to the Past.mp3
2025-04-30 14:10:18,786 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 14:10:18,786 - video_generator - INFO - Falling back to voiceover only
2025-04-30 14:10:18,786 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746007737.mp4.temp
2025-04-30 14:10:18,786 - video_generator - INFO - Write permission test successful
2025-04-30 14:10:20,993 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746007737.mp4.temp:

 b"[AVFormatContext @ 0000027687472ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007737.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 00000276874b1640] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007737.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007737.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 506, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746007737.mp4.temp:

 b"[AVFormatContext @ 0000027687472ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007737.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 00000276874b1640] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007737.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746007737.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 14:10:20,993 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 14:11:31,605 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746007737.mp4
2025-04-30 19:47:32,884 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 19:47:32,983 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_194709.mp3, duration: 68.7s
2025-04-30 19:47:32,984 - video_generator - INFO - Generating scene 1 with duration 5.51s
2025-04-30 19:47:32,984 - video_generator - INFO - Image query: water vapor, magical forest, Hogwarts
2025-04-30 19:47:32,984 - video_generator - INFO - Video query: water cycle, magic, Harry Potter
2025-04-30 19:47:32,984 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 19:47:40,010 - video_generator - INFO - Scene 1: Adjusted video time from 4.0s to 3.51s to give image at least 2.00s
2025-04-30 19:47:40,117 - video_generator - INFO - Generating scene 2 with duration 5.00s
2025-04-30 19:47:40,117 - video_generator - INFO - Image query: puddle evaporating, sunlight, water
2025-04-30 19:47:40,118 - video_generator - INFO - Video query: liquid water, spell casting, evaporation
2025-04-30 19:47:40,118 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 19:47:48,380 - video_generator - INFO - Scene 2: Adjusted video time from 4.0s to 3.00s to give image at least 2.00s
2025-04-30 19:47:48,622 - video_generator - INFO - Generating scene 3 with duration 6.12s
2025-04-30 19:47:48,622 - video_generator - INFO - Image query: trees, leaves releasing vapor, nature
2025-04-30 19:47:48,622 - video_generator - INFO - Video query: plant magic, leaves, water release
2025-04-30 19:47:48,622 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 19:47:57,929 - video_generator - INFO - Generating scene 4 with duration 5.78s
2025-04-30 19:47:57,929 - video_generator - INFO - Image query: Hogwarts garden, wizarding plants, sunlight
2025-04-30 19:47:57,930 - video_generator - INFO - Video query: spellbook, plant processes, Hogwarts grounds
2025-04-30 19:47:57,930 - video_generator - INFO - Scene 4 is > 5 seconds, using video + image
2025-04-30 19:48:04,393 - video_generator - INFO - Scene 4: Adjusted video time from 4.0s to 3.78s to give image at least 2.00s
2025-04-30 19:48:04,562 - video_generator - INFO - Generating scene 5 with duration 5.59s
2025-04-30 19:48:04,562 - video_generator - INFO - Image query: blackboard, diagrams, wizard students
2025-04-30 19:48:04,563 - video_generator - INFO - Video query: water cycle explanation, classroom, wizards
2025-04-30 19:48:04,563 - video_generator - INFO - Scene 5 is > 5 seconds, using video + image
2025-04-30 19:48:10,420 - video_generator - INFO - Scene 5: Adjusted video time from 4.0s to 3.59s to give image at least 2.00s
2025-04-30 19:48:10,650 - video_generator - INFO - Generating scene 6 with duration 5.78s
2025-04-30 19:48:10,650 - video_generator - INFO - Image query: clouds, raindrops, magical weather
2025-04-30 19:48:10,650 - video_generator - INFO - Video query: rain, clouds forming, environment
2025-04-30 19:48:10,650 - video_generator - INFO - Scene 6 is > 5 seconds, using video + image
2025-04-30 19:48:16,098 - video_generator - INFO - Scene 6: Adjusted video time from 4.0s to 3.78s to give image at least 2.00s
2025-04-30 19:48:16,309 - video_generator - INFO - Generating scene 7 with duration 6.06s
2025-04-30 19:48:16,309 - video_generator - INFO - Image query: rainy day, potions class, cauldron
2025-04-30 19:48:16,309 - video_generator - INFO - Video query: weather magic, potion making, rain
2025-04-30 19:48:16,310 - video_generator - INFO - Scene 7 is > 5 seconds, using video + image
2025-04-30 19:48:21,086 - video_generator - INFO - Generating scene 8 with duration 5.23s
2025-04-30 19:48:21,087 - video_generator - INFO - Image query: lush garden, herbology class, plants
2025-04-30 19:48:21,087 - video_generator - INFO - Video query: plant growth, herbology, Hogwarts
2025-04-30 19:48:21,087 - video_generator - INFO - Scene 8 is > 5 seconds, using video + image
2025-04-30 19:48:27,660 - video_generator - INFO - Scene 8: Adjusted video time from 4.0s to 3.23s to give image at least 2.00s
2025-04-30 19:48:27,786 - video_generator - INFO - Generating scene 9 with duration 6.38s
2025-04-30 19:48:27,786 - video_generator - INFO - Image query: water cycle, earth model, magic spells
2025-04-30 19:48:27,786 - video_generator - INFO - Video query: cycle completion, earth, magic
2025-04-30 19:48:27,786 - video_generator - INFO - Scene 9 is > 5 seconds, using video + image
2025-04-30 19:48:33,721 - video_generator - INFO - Generating scene 10 with duration 6.01s
2025-04-30 19:48:33,721 - video_generator - INFO - Image query: students learning, wizard classroom, excitement
2025-04-30 19:48:33,721 - video_generator - INFO - Video query: learn about science, Harry Potter, education
2025-04-30 19:48:33,721 - video_generator - INFO - Scene 10 is > 5 seconds, using video + image
2025-04-30 19:48:38,416 - video_generator - INFO - Generating scene 11 with duration 6.20s
2025-04-30 19:48:38,416 - video_generator - INFO - Image query: Hermione with books, spells, learning
2025-04-30 19:48:38,416 - video_generator - INFO - Video query: Hermione Granger, witch, knowledge
2025-04-30 19:48:38,417 - video_generator - INFO - Scene 11 is > 5 seconds, using video + image
2025-04-30 19:48:45,874 - video_generator - INFO - Generating scene 12 with duration 5.00s
2025-04-30 19:48:45,874 - video_generator - INFO - Image query: magical landscape, Hogwarts, appreciation
2025-04-30 19:48:45,874 - video_generator - INFO - Video query: end of video, Harry Potter fans, magic
2025-04-30 19:48:45,875 - video_generator - INFO - Scene 12 is \u2264 5 seconds, using only video
2025-04-30 19:48:48,440 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\end_of_video__Harry_Potter_fans__magic_1746028127.mp4
2025-04-30 19:48:48,615 - video_generator - INFO - Loaded video clip, duration: 20.52s
2025-04-30 19:48:48,856 - video_generator - INFO - Total clip durations: 68.66s, Audio duration: 68.70s
2025-04-30 19:48:48,936 - video_generator - INFO - Selected background music: A Window to the Past.mp3
2025-04-30 19:48:49,015 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 19:48:49,015 - video_generator - INFO - Falling back to voiceover only
2025-04-30 19:48:49,015 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746028052.mp4.temp
2025-04-30 19:48:49,017 - video_generator - INFO - Write permission test successful
2025-04-30 19:48:51,933 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746028052.mp4.temp:

 b"[AVFormatContext @ 0000019f70232ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746028052.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000019f70272440] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746028052.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746028052.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 653, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746028052.mp4.temp:

 b"[AVFormatContext @ 0000019f70232ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746028052.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000019f70272440] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746028052.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746028052.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 19:48:51,933 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 19:50:38,949 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746028052.mp4
2025-04-30 19:50:53,424 - video_generator - INFO - Serving video file: video_1746028052.mp4, size: 115261736 bytes
2025-04-30 19:50:53,442 - video_generator - INFO - Serving video file: video_1746028052.mp4, size: 115261736 bytes
2025-04-30 20:05:14,978 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 20:05:15,126 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_200510.mp3, duration: 19.46s
2025-04-30 20:05:15,126 - video_generator - INFO - Generating scene 1 with duration 5.88s
2025-04-30 20:05:15,126 - video_generator - INFO - Image query: clouds forming spells
2025-04-30 20:05:15,126 - video_generator - INFO - Video query: water evaporation magic spell
2025-04-30 20:05:15,126 - video_generator - INFO - Scene 1 is > 5 seconds, using video + image
2025-04-30 20:05:23,500 - video_generator - INFO - Scene 1: Adjusted video time from 4.0s to 3.88s to give image at least 2.00s
2025-04-30 20:05:23,578 - video_generator - INFO - Generating scene 2 with duration 6.95s
2025-04-30 20:05:23,578 - video_generator - INFO - Image query: rain falling magical landscape
2025-04-30 20:05:23,578 - video_generator - INFO - Video query: water vapor condensation pensieve
2025-04-30 20:05:23,578 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 20:05:30,748 - video_generator - INFO - Generating scene 3 with duration 6.59s
2025-04-30 20:05:30,748 - video_generator - INFO - Image query: students watching rain at Hogwarts
2025-04-30 20:05:30,749 - video_generator - INFO - Video query: water cycle spells Hogwarts
2025-04-30 20:05:30,749 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 20:05:35,563 - video_generator - INFO - Total clip durations: 19.42s, Audio duration: 19.46s
2025-04-30 20:05:35,630 - video_generator - INFO - Selected background music: Potter Keys  A Soft Piano Cover of Harry Potter Theme Music.mp3
2025-04-30 20:05:35,869 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 20:05:35,870 - video_generator - INFO - Falling back to voiceover only
2025-04-30 20:05:35,870 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029114.mp4.temp
2025-04-30 20:05:35,870 - video_generator - INFO - Write permission test successful
2025-04-30 20:05:36,757 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029114.mp4.temp:

 b"[AVFormatContext @ 0000029654f6f400] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029114.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000029654f52c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029114.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029114.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 653, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029114.mp4.temp:

 b"[AVFormatContext @ 0000029654f6f400] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029114.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000029654f52c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029114.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029114.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 20:05:36,757 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 20:06:04,165 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029114.mp4
2025-04-30 20:06:04,287 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:04,346 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-04-30 20:06:04,393 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:04,918 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:10,432 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:13,036 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:13,037 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:13,039 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 20:06:13,128 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_200610.mp3, duration: 11.81s
2025-04-30 20:06:13,128 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 20:06:13,128 - video_generator - INFO - Image query: forest lake evaporation
2025-04-30 20:06:13,128 - video_generator - INFO - Video query: water cycle nature explanation
2025-04-30 20:06:13,128 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 20:06:15,546 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\water_cycle_nature_explanation_1746029174.mp4
2025-04-30 20:06:15,710 - video_generator - INFO - Loaded video clip, duration: 18.28s
2025-04-30 20:06:15,725 - video_generator - INFO - Generating scene 2 with duration 6.77s
2025-04-30 20:06:15,725 - video_generator - INFO - Image query: plants and animals thriving
2025-04-30 20:06:15,725 - video_generator - INFO - Video query: importance of water for ecosystems
2025-04-30 20:06:15,725 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 20:06:27,327 - video_generator - INFO - Total clip durations: 11.77s, Audio duration: 11.81s
2025-04-30 20:06:27,394 - video_generator - INFO - Selected background music: A Window to the Past.mp3
2025-04-30 20:06:27,465 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 20:06:27,465 - video_generator - INFO - Falling back to voiceover only
2025-04-30 20:06:27,465 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029173.mp4.temp
2025-04-30 20:06:27,466 - video_generator - INFO - Write permission test successful
2025-04-30 20:06:28,051 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029173.mp4.temp:

 b"[AVFormatContext @ 0000020737652ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029173.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000020737670140] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029173.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029173.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 653, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029173.mp4.temp:

 b"[AVFormatContext @ 0000020737652ac0] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029173.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 0000020737670140] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029173.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029173.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 20:06:28,051 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 20:06:42,231 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029173.mp4
2025-04-30 20:06:42,382 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:42,384 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:49,536 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:49,538 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:53,374 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:53,375 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:06:53,377 - video_generator - INFO - Received voiceover data keys: dict_keys(['educationalConcept', 'conceptDescription', 'chosenFandom', 'videoTitle', 'timestamps', 'totalDuration', 'audio_path', 'audio_filename'])
2025-04-30 20:06:53,465 - video_generator - INFO - Loaded audio file: generated_audio\voiceover_20250430_200649.mp3, duration: 17.03s
2025-04-30 20:06:53,465 - video_generator - INFO - Generating scene 1 with duration 5.00s
2025-04-30 20:06:53,465 - video_generator - INFO - Image query: water cycle diagram urban landscape
2025-04-30 20:06:53,465 - video_generator - INFO - Video query: human impact water cycle urban development
2025-04-30 20:06:53,466 - video_generator - INFO - Scene 1 is \u2264 5 seconds, using only video
2025-04-30 20:06:58,457 - video_generator - INFO - Downloaded video to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\media_assets\videos\human_impact_water_cycle_urban_development_1746029214.mp4
2025-04-30 20:06:58,576 - video_generator - INFO - Loaded video clip, duration: 68.57s
2025-04-30 20:06:58,581 - video_generator - INFO - Generating scene 2 with duration 7.00s
2025-04-30 20:06:58,581 - video_generator - INFO - Image query: polluted water nature wizard
2025-04-30 20:06:58,581 - video_generator - INFO - Video query: pollution effects water cycle wizard
2025-04-30 20:06:58,582 - video_generator - INFO - Scene 2 is > 5 seconds, using video + image
2025-04-30 20:07:04,927 - video_generator - INFO - Generating scene 3 with duration 5.00s
2025-04-30 20:07:04,927 - video_generator - INFO - Image query: environmentally friendly magic spells
2025-04-30 20:07:04,927 - video_generator - INFO - Video query: sustainable practices wizarding world
2025-04-30 20:07:04,927 - video_generator - INFO - Scene 3 is > 5 seconds, using video + image
2025-04-30 20:07:11,476 - video_generator - INFO - Scene 3: Adjusted video time from 4.0s to 3.00s to give image at least 2.00s
2025-04-30 20:07:11,664 - video_generator - INFO - Total clip durations: 17.00s, Audio duration: 17.03s
2025-04-30 20:07:11,734 - video_generator - INFO - Selected background music: Potter Keys  A Soft Piano Cover of Harry Potter Theme Music.mp3
2025-04-30 20:07:11,803 - video_generator - ERROR - Error adding background music: 'AudioFileClip' object has no attribute 'size'
2025-04-30 20:07:11,803 - video_generator - INFO - Falling back to voiceover only
2025-04-30 20:07:11,803 - video_generator - INFO - Writing video to temporary file: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029213.mp4.temp
2025-04-30 20:07:11,804 - video_generator - INFO - Write permission test successful
2025-04-30 20:07:12,545 - video_generator - ERROR - Error writing video file: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029213.mp4.temp:

 b"[AVFormatContext @ 000002058df4f400] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029213.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002058df32c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029213.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029213.mp4.temp.\r\nError opening output files: Invalid argument\r\n"
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 136, in write_frame
    self.proc.stdin.write(img_array.tobytes())
OSError: [Errno 22] Invalid argument

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\video.py", line 653, in generate_video
    final_video.write_videofile(
  File "<decorator-gen-55>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 54, in requires_duration
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "<decorator-gen-54>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 135, in use_clip_fps_by_default
    return f(clip, *new_a, **new_kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<decorator-gen-53>", line 2, in write_videofile
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\decorators.py", line 22, in convert_masks_to_RGB
    return f(clip, *a, **k)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\VideoClip.py", line 300, in write_videofile
    ffmpeg_write_video(self, filename, fps, codec,
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 228, in ffmpeg_write_video
    writer.write_frame(frame)
  File "C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\venv\Lib\site-packages\moviepy\video\io\ffmpeg_writer.py", line 180, in write_frame
    raise IOError(error)
OSError: [Errno 22] Invalid argument

MoviePy error: FFMPEG encountered the following error while writing file C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029213.mp4.temp:

 b"[AVFormatContext @ 000002058df4f400] Unable to choose an output format for 'C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029213.mp4.temp'; use a standard extension for the filename or specify the format manually.\r\n[out#0 @ 000002058df32c80] Error initializing the muxer for C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029213.mp4.temp: Invalid argument\r\nError opening output file C:\\Users\\Lenovo\\Desktop\\Programming\\Hackathons\\AI Genesis\\Website\\server\\generated_videos\\video_1746029213.mp4.temp.\r\nError opening output files: Invalid argument\r\n"

2025-04-30 20:07:12,546 - video_generator - INFO - Attempting fallback video writing method...
2025-04-30 20:07:32,885 - video_generator - INFO - Fallback video writing successful to: C:\Users\Lenovo\Desktop\Programming\Hackathons\AI Genesis\Website\server\generated_videos\video_1746029213.mp4
2025-04-30 20:07:33,029 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:07:33,054 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:07:33,080 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:07:33,911 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:07:58,468 - video_generator - INFO - Serving video file: video_1746029173.mp4, size: 24278578 bytes
2025-04-30 20:07:58,490 - video_generator - INFO - Serving video file: video_1746029173.mp4, size: 24278578 bytes
2025-04-30 20:08:00,342 - video_generator - INFO - Serving video file: video_1746029213.mp4, size: 28092141 bytes
2025-04-30 20:08:00,350 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-04-30 20:08:00,354 - video_generator - INFO - Serving video file: video_1746029213.mp4, size: 28092141 bytes
2025-04-30 20:08:00,531 - video_generator - INFO - Serving video file: video_1746029213.mp4, size: 28092141 bytes
2025-04-30 20:08:02,064 - video_generator - INFO - Serving video file: video_1746029173.mp4, size: 24278578 bytes
2025-04-30 20:08:02,208 - video_generator - INFO - Serving video file: video_1746029173.mp4, size: 24278578 bytes
2025-04-30 20:08:05,677 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:08:05,682 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-04-30 20:08:05,688 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:08:05,937 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:08:09,661 - video_generator - INFO - Serving video file: video_1746029173.mp4, size: 24278578 bytes
2025-04-30 20:08:09,665 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-04-30 20:08:09,669 - video_generator - INFO - Serving video file: video_1746029173.mp4, size: 24278578 bytes
2025-04-30 20:08:11,350 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:08:11,355 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-04-30 20:08:11,360 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:08:11,618 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:09:12,498 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:09:12,503 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Lenovo\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-04-30 20:09:12,507 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
2025-04-30 20:09:12,899 - video_generator - INFO - Serving video file: video_1746029114.mp4, size: 36333269 bytes
